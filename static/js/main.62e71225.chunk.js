(this.webpackJsonpSK=this.webpackJsonpSK||[]).push([[0],{240:function(e,t,a){},286:function(e,t,a){},306:function(e,t,a){},318:function(e,t){},349:function(e,t,a){},352:function(e,t,a){},419:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},430:function(e,t,a){},435:function(e,t,a){},447:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(61),r=a.n(o),i=a(164),c=a(51),l=(a(82),a(50)),d=(a(213),a(183)),m=(a(137),a(74)),u=(a(83),a(36)),j=(a(205),a(129)),h=(a(206),a(112)),p=(a(92),a(38)),b=(a(93),a(54)),f=a(1),O=(a(100),a(13)),g=(a(94),a(11)),x=a(7),v=a(31),y=a(63),S=(a(55),a(18)),I=a(14),C=a(15),D=a(16),k=a(17),N=(a(84),a(21)),w=(a(286),a(195)),M=a.n(w),T=(a(304),a(187));a(306);var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";T.a[t]({description:e,className:"sk-notification",duration:5,placement:"top"})},F=a(44),A=a.n(F),E=a(72),B=a.n(E),P="Mima1234";function _(e){if(!e)return!1;var t=B.a.AES.encrypt(JSON.stringify(e),B.a.enc.Utf8.parse(P),{mode:B.a.mode.ECB,padding:B.a.pad.Pkcs7}).toString();return B.a.enc.Base64.stringify(B.a.enc.Utf8.parse(t))}function L(e){if(!e)return!1;var t=B.a.enc.Base64.parse(e).toString(B.a.enc.Utf8),a=B.a.AES.decrypt(t,B.a.enc.Utf8.parse(P),{mode:B.a.mode.ECB,padding:B.a.pad.Pkcs7}).toString(B.a.enc.Utf8);return JSON.parse(a)}var V="JO_TOKEN",U="JO_USER_INFO",Y="JO_USER_STORES",z="JO_STORE_ID",q="JO_STROE_BRAND",J="JO_USER_ORGS",G="JO_EMPLOYEE_INFO",H="JO_STATUS",K={saveToken:function(e){return A.a.set(V,_(e))},getToken:function(){return L(A.a.get(V))||null},removeToken:function(){return A.a.remove(V)},saveUser:function(e){return A.a.set(U,_(e))},getUser:function(){return L(A.a.get(U))||null},removeUser:function(){return A.a.remove(U)},saveStore:function(e){return A.a.set(Y,_(e))},getStore:function(){return L(A.a.get(Y))||null},removeStore:function(){return A.a.remove(Y)},saveCurrentStoreId:function(e){return A.a.set(z,_(e))},getCurrentStoreId:function(){return L(A.a.get(z))||null},removeCurrentStoreId:function(){return A.a.remove(z)},saveCurrentStoreBrand:function(e){return A.a.set(q,_(e))},getCurrentStoreBrand:function(){return L(A.a.get(q))||null},removeCurrentStoreBrand:function(){return A.a.remove(q)},saveUserOrgs:function(e){return A.a.set(J,_(e))},getUserOrgs:function(){return L(A.a.get(J))||null},removeUserOrgs:function(){return A.a.remove(J)},saveEmployeeInfo:function(e){return A.a.set(G,_(e))},getEmployeeInfo:function(){return L(A.a.get(G))||null},removeEmployeeInfo:function(){return A.a.remove(G)},saveJoStatus:function(e){return A.a.set(H,_(e))},getJoStatus:function(){return L(A.a.get(H))||[]},removeJoStatus:function(){return A.a.remove(H)}},W=a(2),X=M.a.create({baseURL:"https://uatpos.skjewellery.com/server",timeout:6e5,headers:{"Content-Type":"application/json; charset=utf-8"}}),$=[],Q=[],Z=function(e){var t=e.url,a=e.method;for(var n in Q)Q[n].u===t+"&"+a&&(Q[n].f(),Q.splice(n,1))},ee=0,te="";function ae(){0===--ee&&(document.body.style.overflow="auto",document.body.removeChild(document.getElementById("glob-loading")))}X.interceptors.request.use((function(e){var t;"undefined"!==typeof window&&(te=K.getToken()&&(null===(t=K.getToken())||void 0===t?void 0:t.token));return e.headers.yht_access_token=e.headers_anti?e.headers_anti.yht_access_token:te,e.headers.tenantId=e.headers_anti?e.headers_anti.tenantId:e.headers.tenantId,!0===e.headers.isLoading&&function(){if(0===ee){var e=document.createElement("div");e.setAttribute("id","glob-loading"),e.setAttribute("style","position: fixed;width: 100%;height: 100%; top:0;background-color:rgba(255,255,255,0.7);"),document.body.appendChild(e),document.body.style.overflow="hidden",document.body.style.height="100%",r.a.render(Object(W.jsx)(l.a,{size:"large",delay:500}),e)}ee++}(),Z(e),e.cancelToken=new M.a.CancelToken((function(t){setTimeout((function(){Q.push({u:e.url+"&"+e.method+e.data,f:t}),$.push(t)}))})),e}),(function(e){return!0===e.config.headers.isLoading&&ae(),Promise.reject(e)})),X.interceptors.response.use((function(e){return Z(e.config),!0===e.config.headers.isLoading&&ae(),200===e.status?200===+e.data.status?e.data:R(e.data.message,"error"):R(e.error,"error")}),(function(e){return M.a.isCancel(e)?new Promise((function(){})):(ae(),e.response?R("Gateway Timeout!","error"):"ECONNABORTED"===e.code?R("Network Timeout!","error"):Promise.reject(e))}));var ne=X,se="/retail",oe="/basic",re={GETCOUNTRY:"".concat(se,"/api/v1/aml/get-country-list"),GETOCCUPATION:"".concat(se,"/api/v1/aml/get-occupation-list"),GETCHECKREF:"".concat(se,"/api/v1/aml/get-enum-by-type"),SAVEANTI:"".concat(se,"/api/v1/aml/save-aml-form"),GETMANAGER:"".concat(se,"/api/v1/aml/get-ro-by-store-id"),SENDSMS:"".concat(se,"/api/v1/aml/send-sms-otp"),VERIFYSMS:"".concat(se,"/api/v1/aml/verify-sms-otp"),AMLRECORD:"".concat(se,"/api/v1/aml-record/list"),GETAMLRECORDFORM:"".concat(se,"/api/v1/aml/get-aml-form-by-id"),GETAMLRECORDBYID:"".concat(se,"/api/v1/aml-record/get-by-id"),GETATTACHMENTS:"".concat(oe,"/api/v1/attachment/get-attachments"),BINDATTA:"".concat(oe,"/api/v1/attachment/binding-attachments"),GET_ATTACHMENTS:"".concat(oe,"/api/v1/attachment/get-attachments"),CAUTIONLIST:"".concat(se,"/api/v1/caution/list"),TOCHANGESTATUS:"".concat(se,"/api/v1/caution/change-status"),UPLOADSIGN:"".concat(se,"/api/v1/attachment/upload-base64?sourceType=","AML_SIGN"),GET_STORE_LIST:"".concat(se,"/api/v1/bip/getStoreList"),ATTACHMENT:"".concat(se,"/api/v1/attachment")},ie=function(e){return ne.request({url:re.SAVEANTI,data:e,method:"POST"})},ce=function(e){return ne.request({url:re.GETAMLRECORDFORM+"?id=".concat(e),method:"get"})},le=function(e){return ne.request({url:re.GETATTACHMENTS+"?outId=".concat(e.outId,"&sourceType=").concat(e.sourceType),method:"get"})},de=a(23),me=a.n(de);function ue(e){var t={};if(e.indexOf("?")>-1)for(var a=e.slice(e.indexOf("?")+1).split("&"),n=0;n<a.length;n++)t[a[n].split("=")[0]]=a[n].split("=")[1];return t}var je=a(454),he=a(49),pe=(a(349),a(139),a(32)),be=(a(207),a(104)),fe=(a(352),a(138),a(87)),Oe=(a(152),a(75)),ge=a(4),xe=(a(108),a(39)),ve=xe.a.Option,ye=null,Se=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({current:e})},n.changeValue=function(e){n.setState({value:e},(function(){n.props.formRef.setFieldsValue(Object(ge.a)({},n.props.type,e)),n.setState({selectData:n.props.refArr.selectData,total:n.props.refArr.total},(function(){n.state.selectData&&e&&n.state.selectData.map((function(e,t){return e.id===n.props.value&&n.setState({current:Math.ceil((t+1)/10)}),!1}))}))}))},n.onSearch=function(e){console.log("search:",e),""!==e?(ye&&clearTimeout(ye),n.props.refArr.selectData&&n.props.refArr.selectData.length>0&&n.setState({selectData:[],total:0,searchloading:!0},(function(){ye=setTimeout((function(){var t=[];n.props.refArr.selectData.map((function(a,n){return a.name.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(a),!1})),n.setState({selectData:t,total:t.length,searchloading:!1,current:1},(function(){clearTimeout(ye)}))}),2e3)}))):n.setState({selectData:n.props.refArr.selectData,total:n.props.refArr.total})},n.state={current:1,total:0,pageSize:10,selectData:[],loading:!1,searchloading:!1,type:n.props.type,value:n.props.value},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){var e=this;this.setState({selectData:this.props.refArr.selectData,total:this.props.refArr.total},(function(){e.state.selectData&&e.props.value&&e.state.selectData.map((function(t,a){return t.id===e.props.value&&e.setState({current:Math.ceil((a+1)/10)}),!1}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.current,n=t.total,s=t.pageSize,o=t.selectData,r=t.loading,i=t.value,c=t.searchloading;return Object(W.jsx)(xe.a,{showSearch:!0,onSearch:this.onSearch,loading:r,value:i,onChange:this.changeValue,disabled:!!this.props.disabled&&this.props.disabled,notFoundContent:c?Object(W.jsx)(l.a,{size:"small",spinning:c}):Object(W.jsx)(Oe.a,{}),filterOption:function(e,t){return!0},dropdownRender:function(t){return Object(W.jsxs)("div",{children:[t,Object(W.jsx)(p.a,{style:{margin:"4px 0"}}),Object(W.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:Object(W.jsx)(fe.a,{current:a,onChange:e.onChange,total:n,pageSize:s,showSizeChanger:!1})})]})},children:o&&o.slice(10*a-10,10*a).map((function(e){return Object(W.jsx)(ve,{value:e.id,children:e.name},e.id)}))},this.props.type)}}]),a}(s.a.Component),Ie="MM/DD/YYYY",Ce="MM/DD/YYYY HH:mm:ss",De=N.a.TextArea,ke=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).formRef=s.a.createRef(),n.jumpNext=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formA"),e.boCaa?(n.props.saveFormData(!1,"formBod"),n.props.changeShowtype("formB")):n.props.changeShowtype("formBod")})).catch((function(e){console.log(e)}))},n.toGetname=function(e){if(console.log(e.target.value),e.target.value){var t=n.formRef.current.getFieldValue("mName");n.formRef.current.setFieldsValue({boName:t}),n.setState({disShowBoName:!0})}else n.setState({disShowBoName:!1}),n.formRef.current.setFieldsValue({boName:""})},n.getDesc=function(e){var t=[];return e.retailVouchDetails.map((function(e,a){return t.push(a+1+"\uff1a"+e.productsku_cCode+" "+e.product_cName),!1})),t.join("\n")},n.changemIdType=function(e){console.log(e),n.setState({mIdType:"NRIC"!==e.target.value})},n.toClose=function(){window.parent.postMessage(JSON.stringify({key:"close"}),"*")},n.state={postMessagedata:n.props.postMessagedata,formRef:"",refArr:n.props.refArr,formdata:n.props.formdata,checkref:n.props.checkref,mIdType:!0,disShowBoName:!1},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,n;(console.log(this.props),console.log(this.formRef),this.setState({formRef:this.formRef}),this.formRef.current.resetFields(),this.props.formdata.formA&&"NRIC"===this.props.formdata.formA.mIdType&&this.setState({mIdType:!1}),null!==(e=this.props.formdata)&&void 0!==e&&null!==(t=e.formA)&&void 0!==t&&t.boCaa)&&this.setState({disShowBoName:null===(a=this.props.formdata)||void 0===a||null===(n=a.formA)||void 0===n?void 0:n.boCaa})}},{key:"componentWillReceiveProps",value:function(e){var t=this;console.log(e),JSON.stringify(e.postMessagedata)!==this.props.postMessagedata&&this.setState({postMessagedata:e.postMessagedata},(function(){t.formRef.current.resetFields()})),JSON.stringify(e.refArr)!==this.props.refArr&&this.setState({refArr:e.refArr},(function(){})),JSON.stringify(e.checkref)!==this.props.checkref&&this.setState({checkref:e.checkref},(function(){})),JSON.stringify(e.formdata)!==this.props.formdata&&this.setState({formdata:e.formdata},(function(){e.formdata.formA&&"NRIC"===e.formdata.formA.mIdType&&t.setState({mIdType:!1}),t.formRef.current.resetFields()}))}},{key:"render",value:function(){var e,t,a=this.state,n=a.disShowBoName,s=a.postMessagedata,o=a.formRef,r=a.refArr,i=a.formdata,c=a.checkref,l=a.mIdType,d={labelCol:{span:5},wrapperCol:{span:19}},m={rules:[{required:!0,message:"Please enter required fields"}]},j={rules:[{required:!0,message:"Please select required fields"}]},h={disabled:!!i.disabled&&i.disabled},x=i&&i.formA?Object(f.a)(Object(f.a)({},i.formA),{},{txnValue:i&&i.formA.txnValue?Number(i.formA.txnValue).toFixed(2):"",newmBirth:i&&i.formA.mBirth?me()(i.formA.mBirth).format(Ie):"",newmIdExpiryDate:i&&i.formA.mIdExpiryDate?me()(i.formA.mIdExpiryDate).format(Ie):"",mNationalityId:i&&i.formA&&i.formA.mNationalityId?i.formA.mNationalityId.toString():"",mOccupationId:i&&i.formA&&i.formA.mOccupationId?i.formA.mOccupationId.toString():""}):{businesstypeId:s.formData?s.formData.iBusinesstypeid:"",businesstypeName:s.formData?s.formData.iBusinesstypeid_name:"",outletCode:s.data?s.data.rm_retailvouch.cStoreCode:"",outletId:s.data?s.data.rm_retailvouch.store:"",cddDate:s.data?me()(s.data.rm_retailvouch.createTime).format(Ce):"",employeeName:s.data?s.data.rm_retailvouch.retailVouchHeaderExtend_Employeename:"",employeeId:s.data?s.data.rm_retailvouch.retailVouchHeaderExtend_Employeeid:"",txnTime:s.data?me()(s.data.rm_retailvouch.createTime).format(Ce):"",txnValue:s.data?s.data.rm_retailvouch.fGatheringMoney?Number(s.data.rm_retailvouch.fGatheringMoney).toFixed(2):0:"",txnDesc:s.data?this.getDesc(s.data.rm_retailvouch):"",mName:s.memberInfo?s.memberInfo.data.realname:"",mBirth:s.memberInfo?me()(s.memberInfo.data.birthday):"",mPhone:s.memberInfo?s.memberInfo.data.phone:"",mNationalityId:s.memberInfo?s.memberInfo.data.define1:"",txnNum:(null===s||void 0===s||null===(e=s.formData)||void 0===e?void 0:e.code)||"",orderId:(null===s||void 0===s||null===(t=s.formData)||void 0===t?void 0:t.id)||""};return Object(W.jsxs)("div",{className:"antiMoneyFormA",children:[Object(W.jsxs)(O.a,Object(f.a)(Object(f.a)({},{labelCol:{span:10},wrapperCol:{span:14}}),{},{name:"formA",initialValues:Object(f.a)({},x),size:"small",ref:this.formRef,colon:!1,requiredMark:!1,children:[Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"Customer Due Diligence(CDD)-FORM A"})}),Object(W.jsxs)(g.a,{span:12,children:[Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Transaction Type",name:"businesstypeName",children:Object(W.jsx)(N.a,{disabled:!0})})),Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Transaction Type",name:"businesstypeId",hidden:!0,children:Object(W.jsx)(N.a,{disabled:!0})}))]}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,{label:"Record No.",name:"orderId",children:Object(W.jsx)(N.a,{disabled:!0})})}),Object(W.jsxs)(g.a,{span:12,children:[Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Outlet",name:"outletCode",children:Object(W.jsx)(N.a,{disabled:!0})})),Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Outlet",name:"outletId",hidden:!0,children:Object(W.jsx)(N.a,{disabled:!0})}))]}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Date",name:"cddDate",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsxs)(g.a,{span:24,children:[Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},m),{},{label:"Name of Employee",name:"employeeName"},d),{},{children:Object(W.jsx)(N.a,{disabled:!0})})),Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},m),{},{label:"Name of Employee",name:"employeeId"},d),{},{hidden:!0,children:Object(W.jsx)(N.a,{disabled:!0})}))]}),Object(W.jsx)(p.a,{}),Object(W.jsx)("div",{className:"title",children:"Al. Customers Particulars(For Individuals)"}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Transaction Number",name:"txnNum"},d),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Date/Time of Transaction",name:"txnTime",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Transaction value",name:"txnValue",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},m),{},{label:"Description of PSPM",name:"txnDesc"},d),{},{children:this.props.printnow?Object(W.jsx)("div",{className:"textareareplace",children:(null===x||void 0===x?void 0:x.txnDesc)||""}):Object(W.jsx)(De,{autoSize:!0,disabled:!0})}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Full Name(including any alias)",name:"mName",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:12,children:this.props.printnow?Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Date Of Birth",name:"newmBirth",children:Object(W.jsx)(N.a,{disabled:!0})})):Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Date Of Birth",name:"mBirth",children:Object(W.jsx)(be.a,{format:Ie,disabled:!0})}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},m),{},{label:"Residential Address",name:"mAddress"},d),{},{children:Object(W.jsx)(De,Object(f.a)({},h))}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"Contact Number",name:"mPhone",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},j),{},{label:"Nationality",name:this.props.printnow?"mNationalityName":"mNationalityId",children:this.props.printnow?Object(W.jsx)(N.a,{disabled:!0}):Object(W.jsx)(Se,{type:"mNationalityId",refArr:r.Nationality?r.Nationality:[],formRef:o.current,disabled:!0})}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},j),{},{name:"mIdType",label:"Type of ID Document"},d),{},{children:Object(W.jsx)(pe.a.Group,Object(f.a)(Object(f.a)({},h),{},{onChange:this.changemIdType,children:c.id_type?c.id_type.map((function(e){return Object(W.jsx)(pe.a,{value:e.code,children:e.name},e.code)})):""}))}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},m),{},{label:"ID Number",name:"mIdNumber",children:Object(W.jsx)(N.a,Object(f.a)({},h))}))}),Object(W.jsx)(g.a,{span:12,children:l&&!this.props.printnow||i.disabled&&"NRIC"!==(null===x||void 0===x?void 0:x.mIdType)?Object(W.jsx)(O.a.Item,{rules:[{validator:function(e,t){return console.log(t),t?Promise.resolve():Promise.reject(new Error("Please enter required fields"))}}],label:"Date Of ID Expiry",name:this.props.printnow?"newmIdExpiryDate":"mIdExpiryDate",children:this.props.printnow?Object(W.jsx)(N.a,{disabled:!0}):Object(W.jsx)(be.a,Object(f.a)({format:Ie},h))}):""}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},j),{},{label:"Occupation",name:this.props.printnow?"mOccupationName":"mOccupationId"},d),{},{children:this.props.printnow?Object(W.jsx)(N.a,{disabled:!0}):Object(W.jsx)(Se,Object(f.a)({type:"mOccupationId",refArr:r.Occupation?r.Occupation:[],formRef:o.current},h))}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},m),{},{name:"boCaa",label:"Customer Buy For Ownself?"},d),{},{children:Object(W.jsxs)(pe.a.Group,Object(f.a)(Object(f.a)({onChange:this.toGetname},h),{},{children:[Object(W.jsx)(pe.a,{value:!0,children:"Yes"}),Object(W.jsx)(pe.a,{value:!1,children:"No"})]}))}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},m),{},{label:"Name of Beneficial Owner",name:"boName"},d),{},{children:Object(W.jsx)(N.a,{disabled:!(!i.disabled&&!n)})}))})]}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Other Information",name:"otherInfo"},d),{},{children:Object(W.jsx)(N.a,Object(f.a)({},h))}))}),Object(W.jsx)(p.a,{})]})),Object(W.jsx)("div",{className:"btn",children:this.props.printnow?"":Object(W.jsxs)(u.b,{children:[void 0===i.disabled&&Object(W.jsx)(S.a,{size:"small",onClick:this.toClose,children:"Close"}),Object(W.jsx)(S.a,{size:"small",onClick:this.jumpNext,children:"Next"})]})})]})}}]),a}(s.a.Component),Ne=(a(239),a(81)),we=(a(419),Ne.a.Paragraph),Me=Ne.a.Link,Te=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).goback=function(){var e=n.state.formdata;n.formRef.current.validateFields().then((function(t){console.log(t),n.props.saveFormData(t,"formB"),e.formBod?n.props.changeShowtype("formBod"):n.props.changeShowtype("formA")})).catch((function(t){n.props.saveFormData(t.values,"formB"),e.formBod?n.props.changeShowtype("formBod"):n.props.changeShowtype("formA")}))},n.formRef=s.a.createRef(),n.jumpNext=function(e){n.formRef.current.validateFields().then((function(t){console.log(t),n.props.saveFormData(t,"formB"),1===e?(n.props.saveFormData(!1,"formE"),n.props.changeShowtype("formCate")):n.props.changeShowtype("formE")})).catch((function(e){}))},n.CheckBtn=function(){var e=n.formRef.current.getFieldsValue(["highRiskCustomer","fatf","pep"]);console.log(Object.values(e)),Object.values(e).includes(!0)?n.setState({btnType:"2"}):n.setState({btnType:"1"})},n.tosave=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formB",!0)})).catch((function(e){}))},n.toClose=function(){window.parent.postMessage(JSON.stringify({key:"close"}),"*")},n.state={btnType:"1",postMessagedata:n.props.postMessagedata,formdata:n.props.formdata},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props),this.CheckBtn()}},{key:"componentWillReceiveProps",value:function(e){var t=this;console.log(e),JSON.stringify(e.postMessagedata)!==this.props.postMessagedata&&this.setState({postMessagedata:e.postMessagedata},(function(){t.formRef.current.resetFields(),t.CheckBtn()})),JSON.stringify(e.formdata)!==this.props.formdata&&this.setState({formdata:e.formdata},(function(){t.formRef.current.resetFields(),t.CheckBtn()}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.btnType,s=a.postMessagedata,o=a.formdata,r={rules:[{required:!0,message:" "}]},i={disabled:!!o.disabled&&o.disabled},c=o&&o.formB?Object(f.a)({},o.formB):{outletCode:s.data?s.data.rm_retailvouch.cStoreCode:"",cddDate:s.data?me()(s.data.rm_retailvouch.createTime).format(Ce):"",employeeName:s.data?s.data.rm_retailvouch.retailVouchHeaderExtend_Employeename:"",terrorist:s.checkData?s.checkData.terrorist:"",sanction:null!==s&&void 0!==s&&s.checkData?s.checkData.sanction:"",pep:s.checkData?s.checkData.pep:"",fatf:s.checkData?s.checkData.fatf:"",highRiskCustomer:s.checkData?s.checkData.highRiskCustomer:"",orderId:(null===s||void 0===s||null===(e=s.formData)||void 0===e?void 0:e.id)||""};return Object(W.jsxs)("div",{className:"antiMoneyFormB",children:[Object(W.jsx)(O.a,Object(f.a)(Object(f.a)({},{labelCol:{span:10},wrapperCol:{span:14}}),{},{name:"formB",ref:this.formRef,colon:!1,requiredMark:!1,initialValues:Object(f.a)({},c),children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"Customer Due Diligence(CDD)-FORM B"})}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,{label:"Record No.",name:"orderId",children:Object(W.jsx)(N.a,{disabled:!0})})}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},r),{},{label:"Outlet",name:"outletCode",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},r),{},{label:"Date",name:"cddDate",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},r),{},{label:"Name of Employee",name:"employeeName"},{labelCol:{span:5},wrapperCol:{span:19}}),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(p.a,{}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"B1. Checking Against Terrorist Designations/Sanction Lists"})}),Object(W.jsx)(g.a,{span:16,children:Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(we,{children:"1. Ministry of Home Affairs (MHA)\u2019s website on the Inter-Ministry Committee on Terrorist Designation (\u201cIMC-TD\u201d)for information on terrorist designation (persons and entities designated as terrorists)"}),Object(W.jsx)(we,{children:"* Important If yes, to stop transaction anp lodge a police report"})]})}),Object(W.jsx)(g.a,{span:8,className:"topLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},r),{},{label:"Any match?",name:"terrorist",children:Object(W.jsxs)(pe.a.Group,Object(f.a)(Object(f.a)({},i),{},{children:[Object(W.jsx)(pe.a,{value:!0,children:"Yes"}),Object(W.jsx)(pe.a,{value:!1,children:"No"})]}))}))}),Object(W.jsx)(Me,{href:" https://www.mha.gov.sg/inter-ministry-committee-terrorist-designation-(imc-td)",target:"_blank",className:"linkhref addBottom",underline:!0,children:"https://www.mha.gov.sg/inter-ministry-committee-terrorist-designation-(imc-td)"}),Object(W.jsx)(g.a,{span:16,children:Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(we,{children:"2. Monetary Authority of Singapore (MAS\u201d)\u2019s website on targeted financial sanctions under the United Nations Regulations (UN Regulations\u201d)for the lists of designated individuals and entities"}),Object(W.jsx)(we,{children:"* Important If yes, to stop transaction anp lodge a police report"})]})}),Object(W.jsx)(g.a,{span:8,className:"topLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},r),{},{label:"Any match?",name:"sanction",children:Object(W.jsxs)(pe.a.Group,Object(f.a)(Object(f.a)({},i),{},{children:[Object(W.jsx)(pe.a,{value:!0,children:"Yes"}),Object(W.jsx)(pe.a,{value:!1,children:"No"})]}))}))}),Object(W.jsx)(Me,{href:" https://www.mas.gov.sg/requlation/anti-money-laundering/targeted-financial-sanctions/lists-of-designated-individuas-and-entities",target:"_blank",className:"linkhref",underline:!0,children:"https://www.mas.gov.sg/requlation/anti-money-laundering/targeted-financial-sanctions/lists-of-designated-individuas-and-entities"}),Object(W.jsx)(p.a,{}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"B2. Politically Exposed Person(PEP)"})}),Object(W.jsx)(g.a,{span:16,children:Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(we,{children:"1. Is the customer a Politically Exposed Person(PEP)?"}),Object(W.jsx)(we,{children:"* Important: If yes: o proceed with ECDD"})]})}),Object(W.jsx)(g.a,{span:8,className:"topLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},r),{},{label:" ",name:"pep",children:Object(W.jsxs)(pe.a.Group,Object(f.a)(Object(f.a)({},i),{},{onChange:this.CheckBtn,children:[Object(W.jsx)(pe.a,{value:!0,children:"Yes"}),Object(W.jsx)(pe.a,{value:!1,children:"No"})]}))}))}),Object(W.jsx)(p.a,{}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"B3. Check against FATF Public List of High-Risk and Other Monitored Jurisdictions"})}),Object(W.jsx)(g.a,{span:16,children:Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(we,{children:"1. Is the customer from a FATF public list on high-risk and non-cooperative country?"}),Object(W.jsx)(we,{children:"* Important: If yes: lo proceed with ECDD"})]})}),Object(W.jsx)(g.a,{span:8,className:"topLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},r),{},{label:" ",name:"fatf",children:Object(W.jsxs)(pe.a.Group,Object(f.a)(Object(f.a)({},i),{},{onChange:this.CheckBtn,children:[Object(W.jsx)(pe.a,{value:!0,children:"Yes"}),Object(W.jsx)(pe.a,{value:!1,children:"No"})]}))}))}),Object(W.jsx)(Me,{href:"www.fatf-gatf.org/countries/#high-risk",target:"_blank",className:"linkhref",underline:!0,children:"www.fatf-gatf.org/countries/#high-risk"}),Object(W.jsx)(p.a,{}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"B4. Higher-Risk Customer Based on Risk Assessment Conducted by Regulated Dealer"})}),Object(W.jsx)(g.a,{span:16,children:Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(we,{children:"1. Does the customer fit the profile of a higher-risk customer by displaying any suspicious or red flag"}),Object(W.jsx)(we,{children:"* Important: If yes: lo proceed with CDD"})]})}),Object(W.jsx)(g.a,{span:8,className:"topLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},r),{},{label:" ",name:"highRiskCustomer",children:Object(W.jsxs)(pe.a.Group,Object(f.a)(Object(f.a)({},i),{},{onChange:this.CheckBtn,children:[Object(W.jsx)(pe.a,{value:!0,children:"Yes"}),Object(W.jsx)(pe.a,{value:!1,children:"No"})]}))}))}),Object(W.jsx)(p.a,{})]})})),Object(W.jsx)("div",{className:"btn",children:this.props.printnow?"":Object(W.jsxs)(u.b,{children:[void 0===o.disabled&&Object(W.jsx)(S.a,{onClick:this.toClose,children:"Close"}),Object(W.jsx)(S.a,{onClick:this.goback,children:"Back"}),"1"===n?(o.disabled,Object(W.jsx)(S.a,{onClick:function(){return t.jumpNext(1)},children:"Next"})):Object(W.jsx)(S.a,{onClick:function(){return t.jumpNext(2)},children:"Next"})]})})]})}}]),a}(s.a.Component),Re=(a(421),N.a.TextArea),Fe=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).toClose=function(){window.parent.postMessage(JSON.stringify({key:"close"}),"*")},n.changemIdType=function(e){console.log(e),n.setState({mIdType:"NRIC"!==e.target.value})},n.goback=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formBod"),n.props.changeShowtype("formA")})).catch((function(e){n.props.saveFormData(e.values,"formBod"),n.props.changeShowtype("formA"),console.log(e)}))},n.jumpNext=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formBod"),n.props.changeShowtype("formB")})).catch((function(e){}))},n.formRef=s.a.createRef(),n.state={formRef:"",refArr:n.props.refArr,formdata:n.props.formdata,checkref:n.props.checkref,mIdType:!0},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e.refArr)!==this.props.refArr&&this.setState({refArr:e.refArr},(function(){})),JSON.stringify(e.formdata)!==this.props.formdata&&this.setState({formdata:e.formdata},(function(){e.formdata.formBod&&"NRIC"===e.formdata.formBod.mIdType&&t.setState({mIdType:!1}),t.formRef.current.resetFields()})),JSON.stringify(e.checkref)!==this.props.checkref&&this.setState({checkref:e.checkref},(function(){}))}},{key:"componentDidMount",value:function(){console.log(this.props),this.setState({formRef:this.formRef}),this.formRef.current.resetFields(),this.props.formdata.formBod&&"NRIC"===this.props.formdata.formBod.mIdType&&this.setState({mIdType:!1})}},{key:"render",value:function(){var e=this.state,t=e.formRef,a=e.refArr,n=e.formdata,s=e.checkref,o=e.mIdType,r={labelCol:{span:5},wrapperCol:{span:19}},i={rules:[{required:!0,message:"Please enter required fields"}]},c={disabled:!!n.disabled&&n.disabled},l=n&&n.formBod?Object(f.a)(Object(f.a)({},n.formBod),{},{newmBirth:n&&n.formBod.mBirth?me()(n.formBod.mBirth).format("MM/DD/YYYY"):"",newmIdExpiryDate:n&&n.formBod.mIdExpiryDate?me()(n.formBod.mIdExpiryDate).format("MM/DD/YYYY"):"",mNationalityId:n&&n.formBod&&n.formBod.mNationalityId?n.formBod.mNationalityId.toString():"",mOccupationId:n&&n.formBod&&n.formBod.mOccupationId?n.formBod.mOccupationId.toString():""}):{};return Object(W.jsxs)("div",{className:"antiMoneyformBod",children:[Object(W.jsx)(O.a,Object(f.a)(Object(f.a)({},{labelCol:{span:10},wrapperCol:{span:14}}),{},{name:"formBod",initialValues:Object(f.a)({},l),ref:this.formRef,colon:!1,requiredMark:!1,children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"Beneficial Owner Details"})}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},i),{},{label:"Full Name (including any alias)",name:"mName"},r),{},{children:Object(W.jsx)(N.a,Object(f.a)({},c))}))}),Object(W.jsx)(g.a,{span:12,children:this.props.printnow?Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"Date Of Birth",name:"newmBirth",children:Object(W.jsx)(N.a,{disabled:!0})})):Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"Date Of Birth",name:"mBirth",children:Object(W.jsx)(be.a,Object(f.a)({format:"MM/DD/YYYY"},c))}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},i),{},{label:"Residential Address",name:"mAddress"},r),{},{children:Object(W.jsx)(Re,Object(f.a)({},c))}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"Contact Number",name:"mPhone",children:Object(W.jsx)(N.a,Object(f.a)({},c))}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"Nationality",name:this.props.printnow?"mNationalityName":"mNationalityId",children:this.props.printnow?Object(W.jsx)(N.a,{disabled:!0}):Object(W.jsx)(Se,Object(f.a)(Object(f.a)({},c),{},{type:"mNationalityId",refArr:a.Nationality?a.Nationality:[],formRef:t.current}))}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"Type of ID Document",name:"mIdType",children:Object(W.jsx)(pe.a.Group,Object(f.a)(Object(f.a)({},c),{},{onChange:this.changemIdType,children:s.id_type?s.id_type.map((function(e){return Object(W.jsx)(pe.a,{value:e.code,children:e.name})})):""}))}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"ID Number",name:"mIdNumber",children:Object(W.jsx)(N.a,Object(f.a)({},c))}))}),Object(W.jsx)(g.a,{span:12,children:o&&!this.props.printnow||n.disabled&&"NRIC"!==(null===l||void 0===l?void 0:l.mIdType)?Object(W.jsx)(O.a.Item,{rules:[{validator:function(e,t){return console.log(t),t?Promise.resolve():Promise.reject(new Error("Please enter required fields"))}}],label:"Date Of ID Expiry",name:this.props.printnow?"newmIdExpiryDate":"mIdExpiryDate",children:this.props.printnow?Object(W.jsx)(N.a,{disabled:!0}):Object(W.jsx)(be.a,Object(f.a)({format:"MM/DD/YYYY"},c))}):""}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},i),{},{label:"Occupation",name:this.props.printnow?"mOccupationName":"mOccupationId"},r),{},{children:this.props.printnow?Object(W.jsx)(N.a,{disabled:!0}):Object(W.jsx)(Se,Object(f.a)({type:"mOccupationId",refArr:a.Occupation?a.Occupation:[],formRef:t.current},c))}))}),Object(W.jsx)(p.a,{})]})})),Object(W.jsx)("div",{className:"btn",children:this.props.printnow?"":Object(W.jsxs)(u.b,{children:[void 0===n.disabled&&Object(W.jsx)(S.a,{onClick:this.toClose,children:"Close"}),Object(W.jsx)(S.a,{onClick:this.goback,children:"Back"}),Object(W.jsx)(S.a,{onClick:this.jumpNext,children:"Next"})]})})]})}}]),a}(s.a.Component),Ae=a(248),Ee=a(208),Be=a.n(Ee),Pe=(a(214),a(68)),_e=(a(422),Ne.a.Paragraph),Le=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).clearForm=function(e,t,a){console.log(e),e.includes(t)||n.formRef.current.setFieldsValue(Object(ge.a)({},a,""))},n.jumpNext=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formE"),n.props.changeShowtype("formCate")})).catch((function(e){}))},n.tosave=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formE",!0)})).catch((function(e){}))},n.goback=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formE"),n.props.changeShowtype("formB")})).catch((function(e){n.props.saveFormData(e.values,"formE"),n.props.changeShowtype("formB")}))},n.formRef=s.a.createRef(),n.jumpNext=function(){n.formRef.current.validateFields().then((function(e){console.log(e),n.props.saveFormData(e,"formE"),n.props.changeShowtype("formCate")})).catch((function(e){}))},n.toClose=function(){window.parent.postMessage(JSON.stringify({key:"close"}),"*")},n.state={postMessagedata:n.props.postMessagedata,checkref:n.props.checkref,formdata:n.props.formdata},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this;console.log(e),JSON.stringify(e.postMessagedata)!==this.props.postMessagedata&&this.setState({postMessagedata:e.postMessagedata},(function(){t.formRef.current.resetFields()})),JSON.stringify(e.checkref)!==this.props.checkref&&this.setState({checkref:e.checkref},(function(){})),JSON.stringify(e.formdata)!==this.props.formdata&&this.setState({formdata:e.formdata},(function(){t.formRef.current.resetFields()}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.postMessagedata,s=a.checkref,o=a.formdata,r={labelCol:{span:24},wrapperCol:{span:24}},i={rules:[{required:!0,message:"Please enter required fields"}]},c={rules:[{required:!0,message:"Please select required fields"}]},l={disabled:!!o.disabled&&o.disabled},d=o&&o.formE?Object(f.a)({},o.formE):{outletCode:n.data?n.data.rm_retailvouch.cStoreCode:"",cddDate:n.data?me()(n.data.rm_retailvouch.createTime).format(Ce):"",employeeName:n.data?n.data.rm_retailvouch.retailVouchHeaderExtend_Employeename:"",roName:n.formSMS?n.formSMS.areamanagerName:"",orderId:(null===n||void 0===n||null===(e=n.formData)||void 0===e?void 0:e.id)||""};return Object(W.jsxs)("div",{className:"antiMoneyformE",children:[Object(W.jsx)(O.a,Object(f.a)(Object(f.a)({},{labelCol:{span:10},wrapperCol:{span:14}}),{},{name:"formE",initialValues:Object(f.a)({},d),ref:this.formRef,colon:!1,requiredMark:!1,children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"Customer Due Diligence(CDD)-ECCD FORM"})}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,{label:"Record No.",name:"orderId",children:Object(W.jsx)(N.a,{disabled:!0})})}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"Outlet",name:"outletCode",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{label:"Date",name:"cddDate",children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},i),{},{label:"Name of Employee",name:"employeeName"},{labelCol:{span:5},wrapperCol:{span:19}}),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(p.a,{}),Object(W.jsx)("div",{className:"title",children:"A. Income Level, Source of Wealth and Source of Funds"}),Object(W.jsx)(g.a,{span:24,children:Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(_e,{children:"Establish (by reasonable means e.g. internet scanning, careful enquiries with the customer, etc.) the following:"}),Object(W.jsxs)(_e,{children:["a. income level;Below 50K\uff0c50-150K\uff0c$150-$250K\uff0c",">","$250K"]}),Object(W.jsx)(_e,{children:"b. source of wealth (i.e. source of overall assets); and"}),Object(W.jsx)(_e,{children:"c. source of funds (i.e. source of the funds used to pay for the transaction)"}),Object(W.jsx)("br",{})]})}),Object(W.jsx)(g.a,{span:12,className:"leftLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},c),{},{label:"Annual Income",name:"annualIncome"},r),{},{children:Object(W.jsx)(pe.a.Group,Object(f.a)(Object(f.a)({},l),{},{children:Object(W.jsx)(u.b,{direction:"vertical",children:s.annual_income?s.annual_income.map((function(e){return Object(W.jsx)(pe.a,{value:e.code,children:e.name})})):""})}))}))}),Object(W.jsx)(g.a,{span:12,className:"leftLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},c),{},{label:"Source of wealth",name:"wealthSource"},r),{},{children:Object(W.jsx)(Pe.a.Group,Object(f.a)(Object(f.a)({},l),{},{onChange:function(e){return t.clearForm(e,s.wealth_source[s.wealth_source.length-1].code,"wealthSourceOther")},children:Object(W.jsx)(u.b,{direction:"vertical",children:s.wealth_source?s.wealth_source.map((function(e,t){return t===s.wealth_source.length-1?Object(W.jsxs)(Pe.a,{value:e.code,children:[e.name," ",Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({},i),{},{dependencies:["wealthSource"],name:"wealthSourceOther",className:"inlineForm",rules:[function(e){var t=e.getFieldValue;return{validator:function(e,a){return console.log(a),t("wealthSource")&&t("wealthSource").includes("OTHERS")&&!t("wealthSourceOther")?Promise.reject(new Error("Please enter required fields")):Promise.resolve()}}}],children:Object(W.jsx)(N.a,Object(f.a)({},l))}))]}):Object(W.jsx)(Pe.a,{value:e.code,children:e.name})})):""})}))}))}),Object(W.jsx)(g.a,{span:12,className:"leftLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},c),{},{label:"Source of funds",name:"fundsSource"},r),{},{children:Object(W.jsx)(Pe.a.Group,Object(f.a)(Object(f.a)({},l),{},{children:Object(W.jsx)(u.b,{direction:"vertical",children:s.funds_source?s.funds_source.map((function(e){return Object(W.jsx)(Pe.a,{value:e.code,children:e.name})})):""})}))}))}),Object(W.jsx)(g.a,{span:12,className:"leftLable",children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},c),{},{label:"Source of information",name:"infoSource"},r),{},{children:Object(W.jsx)(Pe.a.Group,Object(f.a)(Object(f.a)({},l),{},{onChange:function(e){return t.clearForm(e,s.info_source[s.info_source.length-1].code,"infoSourceOther")},children:Object(W.jsx)(u.b,{direction:"vertical",children:s.info_source?s.info_source.map((function(e,t){return t===s.info_source.length-1?Object(W.jsxs)(Pe.a,{value:e.code,children:[e.name," ",Object(W.jsx)(O.a.Item,{dependencies:["infoSource"],name:"infoSourceOther",className:"inlineForm",rules:[function(e){var t=e.getFieldValue;return{validator:function(e,a){return console.log(a),t("infoSource")&&t("infoSource").includes("OTHERS")&&!t("infoSourceOther")?Promise.reject(new Error("Please enter required fields")):Promise.resolve()}}}],children:Object(W.jsx)(N.a,Object(f.a)({},l))})]}):Object(W.jsx)(Pe.a,{value:e.code,children:e.name})})):""})}))}))}),Object(W.jsx)(_e,{children:"* Important:To consider terminating the transaction if unable to establish source of income and lodge STR."}),Object(W.jsx)(p.a,{}),Object(W.jsx)("div",{className:"title",children:"B. Prior Approval from an Employee of Senior Managerial/Executive Position"}),Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(_e,{children:"Obtain prior approval from an employee holding a senior managerial or executive position before establishing/continuing dealings with a higher-risk customer."}),Object(W.jsx)(_e,{children:"Note\uff1aTerminate POS transaction if approval not given"}),Object(W.jsx)("br",{})]}),Object(W.jsx)(g.a,{span:12,children:Object(W.jsx)(O.a.Item,{disabled:!0,label:"RO Name",name:"roName",children:Object(W.jsx)(N.a,{disabled:!0})})}),Object(W.jsx)(p.a,{})]})})),Object(W.jsx)("div",{className:"btn",children:this.props.printnow?"":Object(W.jsxs)(u.b,{children:[void 0===o.disabled&&Object(W.jsx)(S.a,{onClick:this.toClose,children:"Close"}),Object(W.jsx)(S.a,{onClick:this.goback,children:"Back"}),(o.disabled,Object(W.jsx)(S.a,{onClick:this.jumpNext,children:"Next"}))]})})]})}}]),a}(s.a.Component),Ve=(a(423),a(424),a(249)),Ue=a.n(Ve),Ye=a(258),ze=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).canvas={},n.reset=function(){n.canvas.clear(),n.setState({imgUrl:null})},n.trim=function(){n.setState({imgUrl:n.canvas.getTrimmedCanvas().toDataURL("image/png")},(function(){n.props.getImgUrl(n.state.imgUrl)}))},n.state={imgUrl:null},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){var e=this;return Object(W.jsxs)("div",{className:"antiMoneyFormSign",children:[Object(W.jsx)("div",{className:"cleanBtn",children:Object(W.jsx)(S.a,{shape:"circle",icon:Object(W.jsx)(Ye.a,{}),onClick:this.reset})}),Object(W.jsx)(Ue.a,{penColor:"#505766",canvasProps:{className:"sigCanvas"},ref:function(t){e.canvas=t},backgroundColor:"#fff"})]})}}]),a}(s.a.Component),qe=a(257);function Je(e){return new Promise((function(t,a){var n=e.name.substring(0,e.name.indexOf(".")),s=new FileReader;s.readAsDataURL(e),s.onloadend=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){var e=document.createElement("canvas"),s=e.getContext("2d"),o=a.width,r=a.height;e.width=o,e.height=r,s.drawImage(a,0,0,o,r);var i=function(e,t){var a=e.split(","),n=a[0].match(/:(.*?);/)[1],s=atob(a[1]),o=s.length,r=new Uint8Array(o);for(;o--;)r[o]=s.charCodeAt(o);return new File([r],t,{type:n})}(e.toDataURL("image/jpeg"),n+".jpeg");t(i)}}}))}var Ge=a(250),He=a.n(Ge);function Ke(e,t,a){return new Promise((function(n,s){new He.a(e,{quality:a||.6,success:function(a){var s=new File([a],e.name,{type:e.type});n(t&&"blob"!==t?s:a)},error:function(e){console.log("\u56fe\u7247\u538b\u7f29\u5931\u8d25----\x3e>>>>",e),s(e)}})}))}var We=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).handleCancel=function(){return n.setState({previewVisible:!1})},n.getBase64=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},n.browserRedirect=function(){var e=navigator.userAgent.toLowerCase(),t="ipad"===e.match(/ipad/i),a="iphone os"===e.match(/iphone os/i),n="midp"===e.match(/midp/i),s="rv:1.2.3.4"===e.match(/rv:1.2.3.4/i),o="ucweb"===e.match(/ucweb/i),r="android"===e.match(/android/i),i="windows ce"===e.match(/windows ce/i),c="windows mobile"===e.match(/windows mobile/i);t||a||n||s||o||r||i||c?console.log("yidong"):console.log("pc")},n.goback=function(){var e,t,a,s,o=n.state,r=o.formdata,i=o.imgUrl,c=o.fileList,l=o.imgId;console.log(r);var d={imgUrl:i,fileList:c,imgId:l,signBase64:(null===(e=Object(he.a)(n))||void 0===e||null===(t=e.props)||void 0===t||null===(a=t.formdata)||void 0===a||null===(s=a.formCate)||void 0===s?void 0:s.signBase64)||""};n.props.saveFormData(d,"formCate"),r.formE?n.props.changeShowtype("formE"):n.props.changeShowtype("formB")},n.tosave=function(){var e,t,a,s=n.state,o=s.formdata,r=s.imgUrl,i=s.fileList,c=s.imgId;if(["NRIC","FIN"].includes(null===o||void 0===o||null===(e=o.formA)||void 0===e?void 0:e.mIdType)&&i.length<2)R("Upload Front and Back of ID.");else if(["PASSPORT"].includes(null===o||void 0===o||null===(t=o.formA)||void 0===t?void 0:t.mIdType)&&i.length<1)R("Upload passport info.");else if(["OTHERS"].includes(null===o||void 0===o||null===(a=o.formA)||void 0===a?void 0:a.mIdType)&&i.length<1)R("Upload front and back of ID (where applicable.");else if(0!==i.length)if(r){var l={imgUrl:r,fileList:i,imgId:c};console.log(l),n.props.saveFormData(l,"formCate",!0,"save")}else R("Sales Staff Signature, please","error");else R("Please upload IC Images","error")},n.handlePreview=function(){var e=Object(y.a)(Object(v.a)().mark((function e(t){return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,n.getBase64(t.originFileObj);case 3:t.preview=e.sent;case 4:n.setState({previewImage:t.url||t.preview,previewVisible:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleOk=function(){n.Child.trim(),n.setState({isModalVisible:!1})},n.openSignModal=function(){n.setState({isModalVisible:!0})},n.getImgUrl=function(e){var t=n.state.formdata,a=n.props.editPostMessagedata;n.setState({imgUrl:e},(function(){n.setState({loading:!0});var s,o,r={imgurl:[e]};!1===t.disabled&&(r.outId=(null===a||void 0===a||null===(s=a.cddForm)||void 0===s?void 0:s.id)||"");console.log("1111"),console.log(r),(o=r,ne.request({url:re.UPLOADSIGN,method:"POST",data:o.imgurl,headers:{}})).then((function(e){console.log(e),200===e.status?n.setState({loading:!1,imgId:e.data[0].id}):(n.setState({loading:!1,imgUrl:null}),R(e.error,"error"))}))})),console.log(e)},n.toClose=function(){window.parent.postMessage(JSON.stringify({key:"close"}),"*")},n.toSettle=function(){var e=n.state,t={imgUrl:e.imgUrl,fileList:e.fileList,imgId:e.imgId};console.log(t),n.props.saveFormData(t,"formCate",!0,"settle")},n.state={loading:!1,formdata:n.props.formdata,isModalVisible:!1,imgUrl:null,imgId:"",fileList:[],previewVisible:!1,previewImage:""},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;console.log(e.formdata),JSON.stringify(e.formdata)!==this.props.formdata&&this.setState({formdata:e.formdata},(function(){var a,n;e.formdata.formCate&&t.setState({imgId:e.formdata.formCate.imgId,imgUrl:e.formdata.formCate.imgUrl,fileList:(null===e||void 0===e||null===(a=e.formdata)||void 0===a||null===(n=a.formCate)||void 0===n?void 0:n.fileList)||[]})}))}},{key:"componentDidMount",value:function(){var e,t,a,n=this;(console.log(this.props),this.props.formdata.formCate)&&this.setState({imgId:this.props.formdata.formCate.imgId,imgUrl:this.props.formdata.formCate.imgUrl,fileList:(null===(e=this.props)||void 0===e||null===(t=e.formdata)||void 0===t||null===(a=t.formCate)||void 0===a?void 0:a.fileList)||[]},(function(){console.log(n.state.fileList)}))}},{key:"render",value:function(){var e,t=this,a=this,n=this.state,s=n.formdata,o=n.isModalVisible,r=n.imgUrl,i=n.fileList,c=n.previewVisible,h=n.previewImage,O=n.loading;console.log(s);var I=!!s.disabled&&s.disabled,C={name:"files",action:"".concat("https://uatpos.skjewellery.com/server").concat(re.ATTACHMENT,"/upload?sourceType=","AML_PROFILE"),headers:{authorization:"authorization-text"},accept:"image/jpeg,image/png",beforeUpload:function(){var e=Object(y.a)(Object(v.a)().mark((function e(t){var a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size/1024/1024>=1.5)){e.next=12;break}if(["jpeg","jpg"].includes(t.type)){e.next=6;break}return e.next=5,Je(t);case 5:t=e.sent;case 6:return e.next=8,Ke(t,"file",.6);case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChange:function(e){console.log(e),e.file.status,"done"===e.file.status?(console.log(e.file,e.fileList),e.file.response&&200===e.file.response.status?R("".concat(e.file.name," file uploaded successfully"),"success"):R("".concat(e.file.name,": ").concat(e.file.response.message),"error")):"error"===e.file.status&&R("".concat(e.file.name," file upload failed."),"error");var t=e.fileList.map((function(e){return e.response&&200!==e.response.status?(e.status="error",e):e})),n=[];t.map((function(e){return"error"===e.status||n.push(e),!1})),a.setState({fileList:n})}};return console.log(i),Object(W.jsx)("div",{className:"antiMoneyFormCertificate",children:Object(W.jsxs)(l.a,{spinning:O,children:[Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:24,children:!I&&Object(W.jsx)("div",{className:"title",children:"Upload IC and signature"})}),Object(W.jsx)(g.a,{children:!I&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("span",{children:"Upload IC Images\uff1a "})," ",Object(W.jsx)(j.a,Object(f.a)(Object(f.a)({},C),{},{capture:"camera",multiple:!0,listType:"picture",disabled:I,fileList:Object(x.a)(i),onPreview:this.handlePreview,className:"upload-list-inline",children:Object(W.jsx)(S.a,{shape:"circle",disabled:I,icon:Object(W.jsx)(je.a,{})})}),"Upload")]})}),Object(W.jsx)(p.a,{}),Object(W.jsxs)(g.a,{span:24,style:{height:270},children:[Object(W.jsxs)("p",{children:["Sales Staff Signature\uff1a"," ",Object(W.jsx)(S.a,{disabled:I,shape:"circle",icon:Object(W.jsx)(qe.a,{}),onClick:this.openSignModal})]}),Object(W.jsx)("br",{}),r&&!I?Object(W.jsx)(d.a,{width:400,src:r}):"",I&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("img",{alt:"",className:"signImg",style:{width:400},src:"data:image/jpeg;base64,".concat(this.props.formdata.formCate.signBase64)})}),Object(W.jsx)(m.a,{title:"Sign",width:700,visible:o,onOk:this.handleOk,onCancel:function(){return t.setState({isModalVisible:!1})},children:Object(W.jsx)(ze,{onRef:function(e){t.Child=e},getImgUrl:this.getImgUrl})})]})]}),Object(W.jsxs)(m.a,{visible:c,footer:null,onCancel:this.handleCancel,width:700,children:[Object(W.jsx)("br",{}),Object(W.jsx)("img",{alt:"example",style:{width:"100%"},src:h})]}),Object(W.jsx)("div",{className:"btn",children:this.props.printnow?"":Object(W.jsxs)(u.b,{children:[void 0===s.disabled&&Object(W.jsx)(S.a,{onClick:this.toClose,children:"Close"}),Object(W.jsx)(S.a,{onClick:this.goback,children:"Back"}),s.disabled||"record"===(null===(e=this.props)||void 0===e?void 0:e.typename)?"":Object(W.jsx)(S.a,{disabled:!!(r&&(null===i||void 0===i?void 0:i.length)>0),onClick:this.toSettle,children:"Settle"}),s.disabled?"":Object(W.jsx)(S.a,{onClick:this.tosave,children:"Save"})]})})]})})}}]),a}(s.a.Component),Xe=We,$e=a(455),Qe="YYYY-MM-DD HH:mm:ss",Ze="YYYY-MM-DD",et=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).getCheckRef=function(){var e=n.state.checkref;n.setState({loading:!0});["id_type","annual_income","wealth_source","funds_source","info_source"].map((function(t){return function(e){return ne.request({url:re.GETCHECKREF+"?type=".concat(e),method:"get"})}(t).then((function(a){console.log(a),200===a.status?(e[t]=a.data,n.setState({checkref:e},(function(){7===Object.keys(n.state.checkref).length&&n.setState({loading:!1})}))):(e[t]=[],7===Object.keys(e).length&&n.setState({loading:!1}),n.setState({checkref:e}))})),!1}))},n.getref=function(){var e=n.state,t=e.refArr,a=e.checkref;n.setState({loading:!0}),ne.request({url:re.GETCOUNTRY,method:"get"}).then((function(e){if(e&&200===e.status){var s={selectData:e.data.recordList,total:e.data.recordList.length};t.Nationality=s,a.getCountry=t,n.setState({refArr:t,checkref:a},(function(){7===Object.keys(n.state.checkref).length&&n.setState({loading:!1}),console.log(t)}))}else a.errgetCountry=!1,7===Object.keys(a).length&&n.setState({loading:!1}),n.setState({checkref:a})})),ne.request({url:re.GETOCCUPATION,method:"get"}).then((function(e){if(e&&200===e.status){var s={selectData:e.data.recordList,total:e.data.recordList.length};t.Occupation=s,a.getOccupation=t,n.setState({refArr:t,checkref:a},(function(){7===Object.keys(n.state.checkref).length&&n.setState({loading:!1}),console.log(t)}))}else a.errOccupation=!1,7===Object.keys(a).length&&n.setState({loading:!1}),n.setState({checkref:a})})).catch((function(e){a.errOccupation=!1,7===Object.keys(a).length&&n.setState({loading:!1}),n.setState({checkref:a})}))},n.refFormA=function(e){n.refFormA=e},n.refFormB=function(e){n.refFormB=e},n.changeShowtype=function(e){n.setState({showType:e})},n.saveFormData=function(e,t,a,s){var o=n.state,r=o.formdata,i=o.formSMS,c=o.postMessagedata,l=o.editPostMessagedata;r[t]=e,"formB"===t&&a&&(r.formE=!1),n.setState({formdata:r},(function(){if(console.log(n.state.formdata),a){var e,t,o,d,m,u,j,h={cddFormDto:Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},r.formA),r.formB),i),{},{finishFill:"save"===s,cashOver20k:(null===c||void 0===c||null===(e=c.checkData)||void 0===e?void 0:e.cashOver20k)||(null===(t=Object(he.a)(n))||void 0===t||null===(o=t.props)||void 0===o||null===(d=o.postMessagedata)||void 0===d||null===(m=d.cddForm)||void 0===m?void 0:m.cashOver20k)})};if(console.log(h),!1===n.props.disabled)console.log(l),console.log(r),h.cddFormDto.id=(null===l||void 0===l||null===(u=l.cddForm)||void 0===u?void 0:u.id)||"";else h.profileReport=null!==c&&void 0!==c&&null!==(j=c.checkData)&&void 0!==j&&j.profileReport?c.checkData.profileReport:"";if(r.formCate){var p=[r.formCate.imgId];r.formCate.fileList.map((function(e){return 200===e.response.status&&p.push(e.response.data[0].id),!1})),h.attachmentIds=p}r.formBod&&(h.bodFormDto=Object(f.a)({},r.formBod),h.bodFormDto.mBirth=me()(h.bodFormDto.mBirth).format(Qe),h.bodFormDto.mIdExpiryDate&&(h.bodFormDto.mIdExpiryDate=me()(h.bodFormDto.mIdExpiryDate).format(Qe))),r.formE&&(h.ecddFormDto=Object(f.a)({},r.formE),h.ecddFormDto.cddDate=me()(h.ecddFormDto.cddDate,Ce).format(Ze)),h.cddFormDto.cddDate=me()(h.cddFormDto.cddDate).format(Ze),h.cddFormDto.txnTime=me()(h.cddFormDto.txnTime).format(Qe),h.cddFormDto.mBirth=me()(h.cddFormDto.mBirth).format(Qe),h.cddFormDto.mIdExpiryDate&&(h.cddFormDto.mIdExpiryDate=me()(h.cddFormDto.mIdExpiryDate).format(Qe)),console.log(h),n.setState({loading:!0}),ie(h).then((function(e){if(console.log(e),n.setState({loading:!1}),200===e.status)if(!1===n.props.disabled)n.props.closeModal();else{var t={key:"finish",id:e.data.id};window.parent.postMessage(JSON.stringify(t),"*")}else e.message&&R(e.message,"error")}))}}))},n.tosaveInfo=function(){var e=n.state.formdata;console.log(e)},n.addDom=function(){var e=n.state.formdata;console.log(e);var t=["formA","formB"];e.formBod&&t.push("formBod"),e.formE&&t.push("formE"),t.map((function(e){var t=document.getElementById(e),a=Math.ceil(t.clientHeight/1230),n=document.createElement("div");n.className="newdom",n.style.width="100%";var s=1230*a-t.clientHeight;n.style.height="".concat(s,"px"),t.appendChild(n)}))},n.toprint=function(){var e=Object(he.a)(n);n.setState({printnow:!0},(function(){n.addDom(),Be()(document.getElementById("printArea"),{backgroundColor:"#ffffff",allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0,y:-20}).then((function(e){var t=e.width,a=e.height,n=t/592.28*841.89,s=a,o=20,r=555.28,i=595.28/t*a,c=e.toDataURL("image/jpeg",1),l=new Ae.a(null,"pt","a4");if(s<n)l.addImage(c,"JPEG",20,20,r,i);else for(;s>0;)l.addImage(c,"JPEG",20,o,r,i),o-=841.89,(s-=n)>0&&l.addPage();l.autoPrint(),l.output("dataurlnewwindow")})),e.setState({printnow:!1})}))},n.state={showType:"formA",postMessagedata:{},refArr:{},formdata:{},checkref:{},loading:!1,formSMS:{},printnow:!1,editPostMessagedata:{}},n}return Object(C.a)(a,[{key:"componentWillMount",value:function(){if(this.getref(),this.getCheckRef(),this.props.postMessagedata){var e,t,a,n,s,o;if(null!==(e=this.props.postMessagedata)&&void 0!==e&&null!==(t=e.cddForm)&&void 0!==t&&t.cddDate)this.props.postMessagedata.cddForm.cddDate=me()(null===(s=this.props.postMessagedata)||void 0===s||null===(o=s.cddForm)||void 0===o?void 0:o.cddDate).format(Ie);var r={formA:Object(f.a)({},this.props.postMessagedata.cddForm),formB:Object(f.a)({},this.props.postMessagedata.cddForm),formE:!!this.props.postMessagedata.ecddForm&&Object(f.a)(Object(f.a)({},this.props.postMessagedata.ecddForm),this.props.postMessagedata.cddForm),formBod:!!this.props.postMessagedata.bodForm&&Object(f.a)({},this.props.postMessagedata.bodForm),formCate:!!this.props.postMessagedata.sign&&Object(f.a)(Object(f.a)({},this.props.postMessagedata.sign),{},{imgUrl:this.props.postMessagedata.sign.url,signBase64:(null===this||void 0===this||null===(a=this.props)||void 0===a||null===(n=a.postMessagedata)||void 0===n?void 0:n.signBase64)||!1}),disabled:this.props.disabled};!1===this.props.disabled&&(r.formE=Object(f.a)(Object(f.a)({},r.formE),this.props.postMessagedata.cddForm)),console.log(r),this.setState({formdata:r,editPostMessagedata:this.props.postMessagedata})}this.props.location&&this.props.location.query&&this.setState({postMessagedata:Object(f.a)(Object(f.a)({},this.props.location.query.postMessagedata),{},{formSMS:this.props.location.query.formSMS}),formSMS:this.props.location.query.formSMS})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this.state,a=t.showType,n=t.postMessagedata,s=t.refArr,o=t.formdata,r=t.checkref,i=t.loading,c=t.printnow,d=t.editPostMessagedata;console.log(n);var m=(this.props.location.search&&ue(this.props.location.search)).system;return Object(W.jsxs)("div",{className:"antiMoney",children:["BIP"===(null===m||void 0===m?void 0:m.toUpperCase())&&o&&o.disabled&&"formA"===a?Object(W.jsx)("span",{className:"printSty",children:Object(W.jsx)(S.a,{icon:Object(W.jsx)($e.a,{}),onClick:this.toprint})}):"",Object(W.jsx)("span",{id:"printArea",children:Object(W.jsxs)(l.a,{spinning:i,children:["formA"===a?Object(W.jsx)(ke,{changeShowtype:this.changeShowtype,postMessagedata:n,refArr:s,saveFormData:this.saveFormData,formdata:o,checkref:r,printnow:c},a):"","formBod"===a||c&&o.formBod?Object(W.jsx)(Fe,{postMessagedata:n,refArr:s,changeShowtype:this.changeShowtype,saveFormData:this.saveFormData,formdata:o,checkref:r,printnow:c},a):"","formB"===a||c&&o.formB?Object(W.jsx)(Te,{changeShowtype:this.changeShowtype,postMessagedata:n,saveFormData:this.saveFormData,formdata:o,tosaveInfo:this.tosaveInfo,printnow:c},a):"","formE"===a||c&&o.formE?Object(W.jsx)(Le,{postMessagedata:n,changeShowtype:this.changeShowtype,saveFormData:this.saveFormData,formdata:o,checkref:r,tosaveInfo:this.tosaveInfo,printnow:c},a):"","formCate"===a||c&&o.formCate?Object(W.jsx)(Xe,{postMessagedata:n,changeShowtype:this.changeShowtype,saveFormData:this.saveFormData,formdata:o,checkref:r,tosaveInfo:this.tosaveInfo,printnow:c,editPostMessagedata:d,typename:(null===this||void 0===this||null===(e=this.props)||void 0===e?void 0:e.typename)||""},a):""]})},c)]})}}]),a}(s.a.Component),tt=Object(c.f)(et),at=N.a.TextArea,nt=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).tosaveAtta=function(){var e=n.state,t=e.baseInfo,a=e.CTRdata,s=[];a.map((function(e){return s.push(e.id),!1}));var o,r={outId:t.cddFormId,sourceType:"AML_CTR",attachmentIds:s};n.setState({loading:!0}),(o=r,ne.request({url:re.BINDATTA,method:"POST",data:o})).then((function(e){200===e.status?(R(e.message,"success"),n.setState({loading:!1},(function(){n.props.history.goBack()}))):(R(e.message,"error"),n.setState({loading:!1}))}))},n.getPDF_CTR=function(e){le({outId:e,sourceType:"AML_PROFILE"}).then((function(e){console.log(e),200===e.status?n.setState({PDFdata:e.data}):R(e.message,"error")})),le({outId:e,sourceType:"AML_CTR"}).then((function(e){console.log(e),200===e.status?n.setState({CTRdata:e.data}):R(e.message,"error")}))},n.getbacsInfo=function(e){n.setState({loading:!0}),function(e){return ne.request({url:re.GETAMLRECORDBYID+"?id=".concat(e),method:"get"})}(e.id).then((function(e){console.log(e),e instanceof Object&&n.setState({baseInfo:e.data,loading:!1,previewImage:e.data.sign?e.data.sign.url:""},(function(){n.getPDF_CTR(e.data.cddFormId),n.formRef.current.resetFields()}))}))},n.onChange=function(){},n.openModal=function(e){n.setState({loading:!0}),ce(e).then((function(e){n.setState({loading:!1}),console.log(e),e instanceof Object&&(e.data.cddForm.mBirth=e.data.cddForm.mBirth?me()(e.data.cddForm.mBirth):"",e.data.cddForm.mIdExpiryDate=e.data.cddForm.mIdExpiryDate?me()(e.data.cddForm.mIdExpiryDate):"",e.data.bodForm&&(e.data.bodForm.mBirth=e.data.bodForm.mBirth?me()(e.data.bodForm.mBirth):"",e.data.bodForm.mIdExpiryDate=e.data.bodForm.mIdExpiryDate?me()(e.data.bodForm.mIdExpiryDate):""),n.setState({postMessagedata:e.data},(function(){n.setState({isModalVisible:!0})})))}))},n.tosearch=function(){n.formRef.current.validateFields().then((function(e){console.log(e)})).catch((function(e){}))},n.toClose=function(){var e=n.state.baseInfo;n.setState({isModalVisible:!1},(function(){n.getPDF_CTR(e.cddFormId)}))},n.formRef=s.a.createRef(),n.toback=function(){n.props.history.goBack()},n.openSign=function(){n.setState({previewVisible:!0})},n.handleCancel=function(){n.setState({isModalVisible:!1,previewVisible:!1})},n.todown=function(e){window.open(e)},n.getcolumns=function(e){var t=[{title:"Attachment",dataIndex:"originalFileName",key:"originalFileName",render:function(e,t){return Object(W.jsx)("button",{type:"button",className:"btn-link-blue link-button",onClick:function(){n.setState({visibleImg:!0,previewImg:t.url})},children:e})}},{title:"Upload time",dataIndex:"createdTime",key:"createdTime"}];return 2===e&&t.push({title:"",dataIndex:"id",key:"id",render:function(e){return Object(W.jsx)(S.a,{onClick:function(){return n.toDelet(e)},children:"Delete"})}}),t},n.toDelet=function(e){var t=n.state.CTRdata,a=[];t.map((function(t){return t.id!==e&&a.push(t),!1})),n.setState({CTRdata:a})},n.state={loading:!1,baseInfo:{},current:1,total:0,pageSize:10,isModalVisible:!1,previewVisible:!1,visibleImg:!1,previewImg:"",postMessagedata:{},PDFdata:[],CTRdata:[],previewImage:""},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){var e=ue(window.location.href);console.log(e),this.getbacsInfo(e)}},{key:"render",value:function(){var e,t=this,a=this,n=this.state,s=n.loading,o=n.baseInfo,r=n.isModalVisible,i=n.postMessagedata,c=n.CTRdata,I=n.PDFdata,C=n.previewVisible,D=n.previewImage,k=n.visibleImg,w=n.previewImg,M={labelCol:{span:7},wrapperCol:{span:14}},T={name:"files",action:"".concat("https://uatpos.skjewellery.com/server").concat(re.ATTACHMENT,"/upload?sourceType=AML_CTR"),headers:{authorization:"authorization-text"},beforeUpload:function(){var e=Object(y.a)(Object(v.a)().mark((function e(t){var a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!["image/png","image/jpeg"].includes(t.type)){e.next=18;break}if(!(t.size/1024/1024>=1.5)){e.next=15;break}if(["jpeg","jpg"].includes(t.type)){e.next=9;break}return e.next=8,Je(t);case 8:t=e.sent;case 9:return e.next=11,Ke(t,"file",.6);case 11:return a=e.sent,e.abrupt("return",a);case 15:return e.abrupt("return",t);case 16:e.next=19;break;case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChange:function(e){e.file.status,"done"===e.file.status?(console.log(e.file,e.fileList),e.file.response&&200===e.file.response.status?(a.setState({CTRdata:[].concat(Object(x.a)(a.state.CTRdata),[e.file.response.data[0]])}),R("".concat(e.file.name," file uploaded successfully"),"success")):R("".concat(e.file.name,": ").concat(e.file.response.message),"error")):"error"===e.file.status&&R("".concat(e.file.name," file upload failed."),"error")}};return Object(W.jsx)("div",{className:"amlDetail",children:Object(W.jsxs)(l.a,{spinning:s,children:[Object(W.jsx)(O.a,Object(f.a)(Object(f.a)({},M),{},{name:"record",initialValues:{outletCode:o.outletCode,docNo:o.orderCode,orderTime:me()(o.orderTime).format("MM/DD/YYYY HH:mm:ss"),employeeName:o.employeeName,orderValue:o.orderValue?Number(o.orderValue).toFixed(2):0,orderDesc:o.orderDesc,memberName:o.memberName,memberNationalityName:o.memberNationalityName},ref:this.formRef,colon:!1,requiredMark:!1,children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:24,children:Object(W.jsx)("div",{className:"title",children:"AML Record"})}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Holder",name:"outletCode"},M),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"DocNo.",name:"docNo"},M),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"DocDate",name:"orderTime"},M),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"SalesPerson",name:"employeeName"},M),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"TotalAmount",name:"orderValue"},M),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Description",name:"orderDesc"},M),{},{children:Object(W.jsx)(at,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"FullName",name:"memberName"},M),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Nationlity",name:"memberNationalityName"},M),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{span:8,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"AML",name:"otp"},M),{},{children:Object(W.jsx)("span",{className:"checkSty",onClick:function(){return t.openModal(o.cddFormId)},children:"Check"})}))})]})})),Object(W.jsx)(p.a,{}),Object(W.jsxs)("div",{className:"uptable",children:[Object(W.jsx)("div",{className:"title",children:"AML Profiles"}),Object(W.jsx)(h.a,{columns:this.getcolumns(1),dataSource:I,showSizeChanger:!1,size:"small",pagination:!1}),Object(W.jsxs)("div",{className:"uploadtitle",children:[Object(W.jsx)("div",{className:"title",children:"CTR"}),Object(W.jsx)(j.a,Object(f.a)(Object(f.a)({},T),{},{showUploadList:!1,multiple:!0,children:Object(W.jsx)(S.a,{icon:Object(W.jsx)(je.a,{}),onClick:this.tosearch,children:"Upload Attachments"})}))]}),Object(W.jsx)(h.a,{columns:this.getcolumns(2),dataSource:c,showSizeChanger:!1,size:"small",pagination:!1})]}),Object(W.jsx)("div",{className:"footerBtn",children:Object(W.jsxs)(u.b,{children:[Object(W.jsx)(S.a,{onClick:this.toback,children:"Cancel"}),Object(W.jsx)(S.a,{type:"primary",onClick:this.tosaveAtta,children:"Save"})]})}),Object(W.jsx)(m.a,{title:"Details",visible:r,onCancel:this.handleCancel,footer:null,width:1e3,destroyOnClose:!0,children:Object(W.jsx)(tt,{disabled:!1!==(null===i||void 0===i||null===(e=i.cddForm)||void 0===e?void 0:e.finishFill),postMessagedata:i,closeModal:this.toClose},JSON.stringify(i))}),Object(W.jsxs)(m.a,{visible:C,footer:null,onCancel:this.handleCancel,width:700,destroyOnClose:!0,children:[Object(W.jsx)("br",{}),Object(W.jsx)("img",{alt:"example",style:{width:"100%"},src:D})]}),Object(W.jsx)(d.a,{width:200,style:{display:"none"},preview:{visible:k,src:w,onVisibleChange:function(){t.setState({visibleImg:!1,previewImg:""})}}})]})})}}]),a}(s.a.Component),st=nt,ot=(a(107),a(59)),rt=(a(430),a(456)),it=xe.a.Option,ct=null,lt=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({current:e})},n.changeValue=function(e){n.setState({value:e},(function(){n.props.formRef.setFieldsValue(Object(ge.a)({},n.props.type,e)),n.setState({selectData:n.props.refArr.selectData,total:n.props.refArr.total},(function(){n.state.selectData&&e&&n.state.selectData.map((function(e,t){return e.id===n.props.value&&n.setState({current:Math.ceil((t+1)/10)}),!1}))}))}))},n.onSearch=function(e){""!==e?(ct&&clearTimeout(ct),n.props.refArr.selectData&&n.props.refArr.selectData.length>0&&n.setState({selectData:[],total:0,searchloading:!0},(function(){ct=setTimeout((function(){var t=[];n.props.refArr.selectData.map((function(a,n){return a.name.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(a),!1})),n.setState({selectData:t,total:t.length,searchloading:!1,current:1},(function(){clearTimeout(ct)}))}),2e3)}))):n.setState({selectData:n.props.refArr.selectData,total:n.props.refArr.total})},n.state={current:1,total:0,pageSize:10,selectData:[],loading:!1,searchloading:!1,type:n.props.type,value:n.props.value},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(this.props.refArr)!==JSON.stringify(e.refArr)&&this.setState({selectData:e.refArr.selectData,total:e.refArr.total},(function(){t.state.selectData&&e.value&&t.state.selectData.map((function(a,n){return a.id===e.value&&t.setState({current:Math.ceil((n+1)/10)}),!1}))}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({selectData:this.props.refArr.selectData,total:this.props.refArr.total},(function(){e.state.selectData&&e.props.value&&e.state.selectData.map((function(t,a){return t.id===e.props.value&&e.setState({current:Math.ceil((a+1)/10)}),!1}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.current,n=t.total,s=t.pageSize,o=t.selectData,r=t.loading,i=t.value,c=t.searchloading;return Object(W.jsxs)(xe.a,{mode:"multiple",showSearch:!0,onSearch:this.onSearch,loading:r,value:i,onChange:this.changeValue,disabled:!!this.props.disabled&&this.props.disabled,notFoundContent:c?Object(W.jsx)(l.a,{size:"small",spinning:c}):Object(W.jsx)(Oe.a,{}),filterOption:function(e,t){return!0},dropdownRender:function(t){return Object(W.jsxs)("div",{children:[t,Object(W.jsx)(p.a,{style:{margin:"4px 0"}}),Object(W.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:Object(W.jsx)(fe.a,{current:a,onChange:e.onChange,total:n,pageSize:s,showSizeChanger:!1})})]})},allowClear:!0,children:[this.props.isAll&&Object(W.jsx)(it,{value:this.props.allItem||"",children:"All"}),o&&o.slice(10*a-10,10*a).map((function(e){return Object(W.jsx)(it,{value:e.code,children:e.name},e.code)}))]},this.props.type)}}]),a}(s.a.Component),dt=xe.a.Option,mt=be.a.RangePicker,ut="YYYY-MM-DD",jt=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).getStore=function(){},n.onChange=function(e,t){n.setState({pageSize:t},(function(){n.tosearch(e)}))},n.openModal=function(e){n.setState({loading:!0}),ce(e).then((function(t){n.setState({loading:!1}),200===t.status&&(t.data.cddForm.mBirth=t.data.cddForm.mBirth?me()(t.data.cddForm.mBirth):"",t.data.cddForm.mIdExpiryDate=t.data.cddForm.mIdExpiryDate?me()(t.data.cddForm.mIdExpiryDate):"",t.data.bodForm&&(t.data.bodForm.mBirth=t.data.bodForm.mBirth?me()(t.data.bodForm.mBirth):"",t.data.bodForm.mIdExpiryDate=t.data.bodForm.mIdExpiryDate?me()(t.data.bodForm.mIdExpiryDate):""),n.setState({postMessagedata:t.data},(function(){var a,s;if(!1===(null===(a=t.data)||void 0===a||null===(s=a.cddForm)||void 0===s?void 0:s.finishFill)){var o={outId:e,sourceType:"AML_PROFILE"};console.log(n.state.postMessagedata),le(o).then((function(e){if(console.log(e),200===e.status){var t=[];e.data.map((function(e){var a={name:e.originalFileName,status:"done",thumbUrl:e.url,preview:e.url,response:{data:[e],status:200}};t.push(a)}));var a=n.state.postMessagedata;a.sign={fileList:t},console.log(a),n.setState({postMessagedata:a},(function(){n.setState({isModalVisible:!0})}))}else R(e.message,"error")}))}else n.setState({isModalVisible:!0})})))}))},n.tosearch=function(e){var t=n.state,a=t.current,s=t.pageSize,o=t.searchParams;n.formRef.current.validateFields().then((function(t){var r,i;console.log(t);var c,l=Object(f.a)(Object(f.a)(Object(f.a)({},t),o),{},{pageIndex:e||a,pageSize:s,docDateBegin:"RETAIL"===(null===o||void 0===o?void 0:o.system)?me()().subtract("30","days").format(ut):null!==t&&void 0!==t&&null!==(r=t.docDate)&&void 0!==r&&r[0]?me()(t.docDate[0]).format(ut):void 0,docDateEnd:"RETAIL"===(null===o||void 0===o?void 0:o.system)?me()().format(ut):null!==t&&void 0!==t&&null!==(i=t.docDate)&&void 0!==i&&i[1]?me()(t.docDate[1]).format(ut):void 0,holder:t.holder?t.holder.join(","):void 0});console.log(l),delete l.docDate,n.setState({loading:!0}),(c=l,ne.request({url:re.AMLRECORD,method:"get",params:c})).then((function(e){console.log(e),e instanceof Object?n.setState({loading:!1,recordData:e.data.records,current:Number(e.data.current),total:e.data.total}):n.setState({loading:!1})}))})).catch((function(e){}))},n.formRef=s.a.createRef(),n.toEdit=function(e){n.props.history.push("/amlDetail?id=".concat(e))},n.openSign=function(e){n.setState({previewImage:e},(function(){n.setState({previewVisible:!0})}))},n.handleCancel=function(){n.setState({isModalVisible:!1,previewVisible:!1})},n.toClose=function(){n.setState({isModalVisible:!1},(function(){n.tosearch()}))},n.rangePickerDisabledDate=function(e){var t=!1;return e&&(t=e<me()().subtract(30,"days")||e>me()().endOf("day")),t},n.state={loading:!1,recordData:[],current:1,total:0,pageSize:10,isModalVisible:!1,previewVisible:!1,previewImage:"",postMessagedata:{},storeRef:[],formRef:"",searchParams:ue(n.props.location.search)||{}},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){this.setState({formRef:this.formRef}),this.getStore(),this.tosearch()}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.loading,s=a.recordData,o=a.current,r=a.total,i=a.pageSize,c=a.isModalVisible,d=a.postMessagedata,j=a.previewVisible,p=a.previewImage,x=a.storeRef,v=a.formRef,y=a.searchParams,I={labelCol:{span:8},wrapperCol:{span:16}},C=[{title:"Outlet",dataIndex:"outletCode",width:80,key:"outletCode"},{title:"DocNo.",dataIndex:"orderCode",width:200,key:"orderCode."},{title:"DocDate",dataIndex:"orderTime",width:180,key:"orderTime",render:function(e){return Object(W.jsx)("span",{children:me()(e).format("YYYY-MM-DD HH:mm:ss")})}},{title:"SalesPerson",dataIndex:"employeeName",width:180,key:"employeeName"},{title:"TotalAmount",dataIndex:"orderValue",width:120,key:"orderValue",align:"right",render:function(e){return Object(W.jsx)("span",{children:e?Number(e).toFixed(2):0})}},{title:"Description",dataIndex:"orderDesc",key:"orderDesc",ellipsis:!0,width:300,render:function(e){return Object(W.jsx)(ot.a,{className:"noline",overlayClassName:"whiteSpace",placement:"topLeft",title:e,children:e})}},{title:"Full Name",width:180,dataIndex:"memberName",key:"memberName"},{title:"Nationlity",dataIndex:"memberNationalityName",key:"memberNationalityName",width:180},{title:"CTR Uploaded",dataIndex:"ctr",key:"ctr",width:120,align:"center",render:function(e){return Object(W.jsx)("span",{children:e?"Y":"N"})}},{title:"Complete AML",dataIndex:"finishFill",key:"finishFill",align:"center",fixed:"right",width:120,render:function(e){return Object(W.jsx)("span",{children:e?"Y":"N"})}},{title:"AML",dataIndex:"cddFormId",key:"cddFormId",width:80,align:"center",fixed:"right",render:function(e){return Object(W.jsx)("span",{className:"linkicon",children:Object(W.jsx)(rt.a,{onClick:function(){return t.openModal(e)}})})}},{title:" ",dataIndex:"id",key:"id",hideInTable:"RETAIL"===this.state.searchParams.system,width:80,fixed:"right",render:function(e){return Object(W.jsx)(S.a,{size:"small",className:"grayBtn",type:"primary",onClick:function(){return t.toEdit(e)},children:"Edit"})}}];return Object(W.jsx)("div",{className:"amlRecord",children:Object(W.jsxs)(l.a,{spinning:n,children:[Object(W.jsx)(O.a,Object(f.a)(Object(f.a)({},I),{},{name:"record",size:"small",initialValues:{},ref:this.formRef,colon:!1,requiredMark:!1,children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"DocNo.",name:"docNo"},I),{},{children:Object(W.jsx)(N.a,{})}))}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"DocDate",name:"docDate"},I),{},{children:Object(W.jsx)(mt,{defaultValue:"RETAIL"===(null===y||void 0===y?void 0:y.system)?[me()().subtract(30,"days"),me()()]:null,disabledDate:"RETAIL"===(null===y||void 0===y?void 0:y.system)&&this.rangePickerDisabledDate,format:"DD/MM/YYYY",allowClear:"RETAIL"!==(null===y||void 0===y?void 0:y.system)})}))}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Outlet",name:"holder"},I),{},{children:Object(W.jsx)(lt,{type:"holder",refArr:{selectData:x,total:x.length},formRef:v.current})}))}),Object(W.jsx)(g.a,{span:3,children:Object(W.jsx)("div",{className:"btn",children:Object(W.jsx)(u.b,{children:Object(W.jsx)(S.a,{className:"grayBtn",type:"primary",onClick:function(){return t.tosearch()},children:"Search"})})})}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Complete AML",name:"finishFill"},I),{},{children:Object(W.jsxs)(xe.a,{allowClear:!0,children:[Object(W.jsx)(dt,{value:!0,children:"Y"}),Object(W.jsx)(dt,{value:!1,children:"N"})]})}))}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Use Cash Over 20K",name:"cashOver20k"},I),{},{children:Object(W.jsxs)(xe.a,{allowClear:!0,children:[Object(W.jsx)(dt,{value:!0,children:"Y"}),Object(W.jsx)(dt,{value:!1,children:"N"})]})}))}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"High Risk Country",name:"highRiskNationality"},I),{},{children:Object(W.jsxs)(xe.a,{allowClear:!0,children:[Object(W.jsx)(dt,{value:!0,children:"Y"}),Object(W.jsx)(dt,{value:!1,children:"N"})]})}))}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"CTR Uploaded",name:"ctrUploaded"},I),{},{children:Object(W.jsxs)(xe.a,{allowClear:!0,children:[Object(W.jsx)(dt,{value:!0,children:"Y"}),Object(W.jsx)(dt,{value:!1,children:"N"})]})}))})]})})),Object(W.jsx)("br",{}),Object(W.jsx)(h.a,{rowKey:"id",size:"small",columns:C.filter((function(e){return!0!==e.hideInTable})),pagination:!1,dataSource:s,scroll:{x:1800}}),Object(W.jsx)("div",{className:"pagination",children:Object(W.jsx)(fe.a,{defaultCurrent:o,onChange:this.onChange,total:r,pageSize:i,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," items")}})}),Object(W.jsxs)(m.a,{visible:j,footer:null,onCancel:this.handleCancel,width:700,destroyOnClose:!0,children:[Object(W.jsx)("br",{}),Object(W.jsx)("img",{alt:"example",style:{width:"100%"},src:p})]}),Object(W.jsx)(m.a,{title:"Details",visible:c,onCancel:this.handleCancel,footer:null,width:1e3,destroyOnClose:!0,children:Object(W.jsx)(tt,{typename:"record",disabled:!1!==(null===d||void 0===d||null===(e=d.cddForm)||void 0===e?void 0:e.finishFill),postMessagedata:d,closeModal:this.toClose},JSON.stringify(d))})]})})}}]),a}(s.a.Component),ht=(a(215),a(130)),pt=(a(216),a(128)),bt=a(193),ft=a(6),Ot=(a(240),xe.a.Option),gt=function(e){var t=e.visible,a=e.importType,s=e.onOk,o=e.onCancel,r=Object(n.useState)(!1),i=Object(ft.a)(r,2),c=i[0],d=i[1],h=Object(n.useState)(""),p=Object(ft.a)(h,2),b=p[0],O=p[1],g={name:"files",action:"".concat("https://uatpos.skjewellery.com/server","/").concat(re.FRONT2,"/").concat("Import"===a?"import-excel":"import-xml"),headers:{authorization:"authorization-text"},data:{cautionStatus:b},accept:"Import"===a?"text/xml,application/xml,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel":"text/xml,application/xml",onChange:function(e){d(!0),"done"===e.file.status?(console.log(e.file,e.fileList),e.file.response&&200===e.file.response.status?(d(!1),R("".concat(e.file.name," file uploaded successfully"),"success"),s(),o()):(d(!1),R("".concat(e.file.name,": ").concat(e.file.response.message),"error"))):"error"===e.file.status&&(d(!1),R("".concat(e.file.name," file upload failed."),"error"))}};return Object(W.jsx)(m.a,{className:"import-modal",title:!1,visible:t,onCancel:o,width:540,onOk:function(){},footer:null,maskClosable:!1,children:Object(W.jsx)(l.a,{spinning:c,size:"small",delay:500,children:Object(W.jsxs)("div",{className:"import-modal-content",children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("label",{children:"Status:"}),Object(W.jsxs)(xe.a,{size:"small",style:{width:240},onChange:function(e){return O(e)},children:[Object(W.jsx)(Ot,{value:"BLOCK",children:"Block"}),Object(W.jsx)(Ot,{value:"CAUTION",children:"Caution"})]})]}),Object(W.jsx)("div",{className:"action-btn",children:Object(W.jsxs)(u.b,{children:[Object(W.jsx)(j.a,Object(f.a)(Object(f.a)({},g),{},{showUploadList:!1,children:Object(W.jsx)(S.a,{size:"small",disabled:!b,icon:Object(W.jsx)(je.a,{}),children:a})})),Object(W.jsx)(S.a,{size:"small",onClick:o,children:"Cancel"})]})})]})})})},xt=xe.a.Option;var vt=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).onChange=function(e,t){n.setState({pageSize:t},(function(){n.tosearch(e)}))},n.tosearch=function(e){var t=n.state,a=t.current,s=t.pageSize;n.formRef.current.validateFields().then((function(t){var o,r={pageIndex:e||a,pageSize:s,name:t.name?t.name:"",idNo:t.idNo?t.idNo:"",status:t.status?t.status:""};n.setState({loading:!0}),(o=r,ne.request({url:re.CAUTIONLIST,method:"get",params:o})).then((function(e){200===(null===e||void 0===e?void 0:e.status)?n.setState({loading:!1,recordData:e.data.records,current:e.data.current,total:e.data.total,editingKey:""}):(R(e.message,"error"),n.setState({loading:!1}))}))})).catch((function(e){}))},n.formRef=s.a.createRef(),n.tableformRef=s.a.createRef(),n.toEdit=function(e){n.tableformRef.current.setFieldsValue({updataStatus:e.status}),n.setState({editingKey:e.id})},n.isEditing=function(e){var t=n.state.editingKey;return e.id===t},n.toCancel=function(){n.setState({editingKey:""})},n.tosave=function(e){var t=n.state.recordData,a=n.tableformRef.current.getFieldsValue(["updataStatus"]).updataStatus;console.log(a),n.setState({loading:!0});var s,o={id:e.id,status:a};(s=o,ne.request({url:re.TOCHANGESTATUS,method:"POST",data:s})).then((function(s){console.log(s),200===s.status?(t.map((function(t){return t.id===e.id&&(t.status=a,t.statusValue=1===a?"Block":"Caution"),t})),n.setState({editingKey:"",loading:!1,recordData:t})):(R(s.message,"error"),n.setState({loading:!1}))}))},n.state={loading:!1,recordData:[],current:1,total:0,pageSize:10,isModalVisible:!1,editingKey:"",visible:!1,importType:""},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){this.tosearch()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.recordData,s=t.current,o=t.total,r=t.pageSize,i=t.visible,c=t.importType,d=t.editingKey,m={labelCol:{span:8},wrapperCol:{span:16}},j=[{title:"Sl No",dataIndex:"slNo",key:"slNo",fixed:"left"},{title:"Name",dataIndex:"name",key:"name.",fixed:"left"},{title:"ID Type",dataIndex:"idType",key:"idType"},{title:"ID NO",dataIndex:"idNo",key:"idNo"},{title:"Nat",dataIndex:"nat",key:"nat"},{title:"Sex",dataIndex:"sex",key:"sex"},{title:"Race",dataIndex:"race",key:"race"},{title:"Birthday",dataIndex:"birth",key:"birth",render:function(e){return e&&me()(e).format(Ie)}},{title:"Caution Date",dataIndex:"cautionDate",key:"cautionDate",render:function(e){return e&&me()(e).format(Ie)}},{title:"Created By",dataIndex:"createdBy",key:"createdBy"},{title:"Source",dataIndex:"sourceValue",key:"sourceValue"},{title:"Address",dataIndex:"address",key:"address",width:200,render:function(e){return Object(W.jsx)(ot.a,{className:"noline",placement:"topLeft",title:e,children:e})}},{title:"Remarks",dataIndex:"remarks",key:"remarks",width:200,render:function(e){return Object(W.jsx)(ot.a,{className:"noline",placement:"topLeft",title:e,children:e})}},{title:"Status",dataIndex:"statusValue",key:"statusValue",fixed:"right",render:function(t,a){return e.isEditing(a)?Object(W.jsx)(O.a.Item,{name:"updataStatus",className:"editForm",children:Object(W.jsxs)(xe.a,{size:"small",children:[Object(W.jsx)(xt,{value:1,children:"Block"}),Object(W.jsx)(xt,{value:2,children:"Caution"})]})}):t}},{title:"Action",dataIndex:"id",key:"id",fixed:"right",render:function(t,a){return e.isEditing(a)?Object(W.jsxs)("span",{children:[Object(W.jsx)(S.a,{size:"small",className:"grayBtn",type:"primary",onClick:function(){return e.tosave(a)},style:{marginRight:8},children:"Save"}),Object(W.jsx)(S.a,{onClick:e.toCancel,children:"Cancel"})]}):Object(W.jsx)(S.a,{size:"small",className:""!==d?"":"grayBtn",type:"primary",onClick:function(){return e.toEdit(a)},disabled:""!==d,children:"Edit"})}}],p=Object(W.jsx)(pt.a,{items:[{key:"1",label:"Import",onClick:function(){return e.setState({visible:!0,importType:"Import"})}},{key:"3",label:"Download template",onClick:function(){var e;(e={sourceType:"CAUTION_LIST_IMPORT_EXCEL_TEMPLATE"},ne.request({url:re.GET_ATTACHMENTS,params:e})).then((function(e){e instanceof Object&&(e.data?(!function(e){var t=document.createElement("a");t.style.display="none",t.href=e[0].url,t.setAttribute("download",e[0].originalFileName),document.body.appendChild(t),t.click(),document.body.removeChild(t)}(e.data),R(e.message,"success")):R("No template, please contact the administrator","info"))}))}}]});return Object(W.jsxs)("div",{className:"cautionRecord",children:[Object(W.jsxs)(l.a,{spinning:a,children:[Object(W.jsx)(O.a,Object(f.a)(Object(f.a)({},m),{},{name:"record",initialValues:{},ref:this.formRef,colon:!1,requiredMark:!1,size:"small",children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Name",name:"name"},m),{},{children:Object(W.jsx)(N.a,{})}))}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"ID NO.",name:"idNo"},m),{},{children:Object(W.jsx)(N.a,{})}))}),Object(W.jsx)(g.a,{span:7,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)({label:"Status",name:"status"},m),{},{children:Object(W.jsxs)(xe.a,{allowClear:!0,children:[Object(W.jsx)(xt,{value:1,children:"Block"}),Object(W.jsx)(xt,{value:2,children:"Caution"})]})}))}),Object(W.jsx)(g.a,{span:3,children:Object(W.jsx)("div",{className:"btn",children:Object(W.jsx)(u.b,{children:Object(W.jsx)(S.a,{className:"grayBtn",type:"primary",onClick:function(){return e.tosearch(1)},children:"Search"})})})}),Object(W.jsx)(g.a,{span:21}),Object(W.jsx)(g.a,{span:3,children:Object(W.jsxs)("div",{className:"btn",children:[Object(W.jsx)(ht.a,{overlay:p,children:Object(W.jsx)(S.a,{children:Object(W.jsxs)(u.b,{children:["Import Excel",Object(W.jsx)(bt.a,{})]})})}),Object(W.jsx)(S.a,{icon:Object(W.jsx)(je.a,{}),onClick:function(){return e.setState({visible:!0,importType:"Import XML"})},children:"Import XML"})]})})]})})),Object(W.jsx)(O.a,{ref:this.tableformRef,component:!1,children:Object(W.jsx)(h.a,{size:"small",rowKey:"id",columns:j,pagination:!1,dataSource:n,scroll:{x:"max-content"}})}),Object(W.jsx)("div",{className:"pagination",children:Object(W.jsx)(fe.a,{size:"small",defaultCurrent:s,onChange:this.onChange,total:o,pageSize:r,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," items")}})})]}),i&&Object(W.jsx)(gt,{visible:i,importType:c,onOk:function(){return e.tosearch(1)},onCancel:function(){return e.setState({visible:!1})}})]})}}]),a}(s.a.Component),yt=(a(431),a(256)),St=a(457),It=function(){return Object(W.jsx)(yt.a,{status:"404",title:"404",icon:Object(W.jsx)(St.a,{}),subTitle:"Sorry, the page you visited does not exist.",extra:Object(W.jsx)(S.a,{type:"primary",onClick:function(){return window.history.go(-1)},children:"Back Home"})})},Ct=(a(451),a(255)),Dt=(a(435),Ct.a.Countdown),kt=xe.a.Option,Nt=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).jumpNext=function(){var e=n.state,t=e.postMessagedata,a=e.selectMa;n.formRef.current.validateFields().then((function(e){console.log(e);var s,o={phone:e.phone,otp:e.otp};n.setState({loading:!0}),(s=o,ne.request({url:re.VERIFYSMS+"?phone=".concat(s.phone,"&otp=").concat(s.otp),method:"get"})).then((function(s){if(n.setState({loading:!1}),200===(null===s||void 0===s?void 0:s.status)){e.areamanagerId,a.children,e.phone,e.otp;n.props.history.push({pathname:"/antiMoney",query:{postMessagedata:t,formSMS:{areamanagerId:e.areamanagerId,areamanagerName:a.children,aPhoneNum:e.phone,aVerificationCode:e.otp}}})}else n.setState({loading:!1}),R(s.message,"error")}))})).catch((function(e){n.setState({loading:!1})}))},n.formRef=s.a.createRef(),n.onFinish=function(){n.setState({countdown:!1})},n.sendSMS=function(){var e,t=n.formRef.current.getFieldValue("phone");console.log(t),t?(n.setState({countdown:!0}),(e=t,ne.request({url:re.SENDSMS+"?phone=".concat(e),method:"get"})).then((function(e){console.log(e)}))):R("Please select Area Manager","error")},n.toClose=function(){window.parent.postMessage(JSON.stringify({key:"close"}),"*")},n.toSettlement=function(){window.parent.postMessage(JSON.stringify({key:"finish"}),"*")},n.getPhone=function(e,t){console.log(e,t),n.formRef.current.setFieldsValue({phone:t.phone}),n.setState({selectMa:t})},n.modalBtn=function(){n.setState({isModalVisible:!1})},n.toSms=function(){var e=n.state.postMessagedata;if(e.checkData.roMessage)n.setState({step:2});else{n.props.history.push({pathname:"/antiMoney",query:{postMessagedata:e,formSMS:{}}})}},n.toJumpAml=function(){var e=n.state.paramAML;n.props.history.push(Object(f.a)({},e))},n.getDesc=function(e){var t=[];return e.retailVouchDetails.map((function(e,a){return t.push(a+1+"\uff1a"+e.productsku_cCode+" "+e.product_cName),!1})),t.join("\n")},n.toTemporary=function(){var e,t,a=n.state,s=a.postMessagedata,o=a.paramAML,r={profileReport:null!==s&&void 0!==s&&null!==(e=s.checkData)&&void 0!==e&&e.profileReport?s.checkData.profileReport:"",cddFormDto:Object(f.a)(Object(f.a)({},o.query.formSMS),{},{businesstypeId:s.formData?s.formData.iBusinesstypeid:"",businesstypeName:s.formData?s.formData.iBusinesstypeid_name:"",outletCode:s.data?s.data.rm_retailvouch.cStoreCode:"",outletId:s.data?s.data.rm_retailvouch.store:"",cddDate:s.data?s.data.rm_retailvouch.createTime:"",employeeName:s.data?s.data.rm_retailvouch.retailVouchHeaderExtend_Employeename:"",employeeId:s.data?s.data.rm_retailvouch.retailVouchHeaderExtend_Employeeid:"",txnTime:s.data?s.data.rm_retailvouch.createTime:"",txnValue:s.data?s.data.rm_retailvouch.fGatheringMoney?Number(s.data.rm_retailvouch.fGatheringMoney).toFixed(2):0:"",txnDesc:s.data?n.getDesc(s.data.rm_retailvouch):"",mName:s.memberInfo?s.memberInfo.data.realname:"",mBirth:s.memberInfo?s.memberInfo.data.birthday:"",mPhone:s.memberInfo?s.memberInfo.data.phone:"",mNationalityId:s.memberInfo?s.memberInfo.data.define1:"",terrorist:s.checkData?s.checkData.terrorist:"",sanction:null!==s&&void 0!==s&&null!==(t=s.checkData)&&void 0!==t&&t.sanction?s.checkData.sanction:"",pep:s.checkData?s.checkData.pep:"",fatf:s.checkData?s.checkData.fatf:"",highRiskCustomer:s.checkData?s.checkData.highRiskCustomer:"",finishFill:!1})};console.log(r),n.setState({loading:!0}),ie(r).then((function(e){if(console.log(e),n.setState({loading:!1}),200===e.status){var t={key:"finish",id:e.data.id};window.parent.postMessage(JSON.stringify(t),"*")}else e.message&&R(e.message,"error")}))},n.state={loading:!1,countdown:!1,postMessagedata:{},mamagerRef:[],selectMa:{},isModalVisible:!1,step:1,paramAML:{}},n}return Object(C.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillMount",value:function(){window.parent.postMessage(JSON.stringify({key:"ok"}),"*")}},{key:"componentDidMount",value:function(){var e=this,t=ue(window.location.href);console.log(t),window.addEventListener("message",(function(a){if(console.log(a),a.data&&"[object String]"==Object.prototype.toString.call(a.data)){var n=JSON.parse(a.data);if(n.key===t.cguid){var s={storeId:n.data.rm_retailvouch.store,yht_access_token:n.yht_access_token,yhtTenantId:n.yhtTenantId};e.setState({loading:!0,postMessagedata:n}),n&&n.checkData&&!1===n.checkData.block&&!1===n.checkData.caution&&e.setState({step:2}),function(e){return ne.request({url:re.GETMANAGER+"?storeId=".concat(e.storeId),method:"get",headers_anti:{tenantId:e.yhtTenantId,yht_access_token:e.yht_access_token}})}(s).then((function(t){200===t.status?e.setState({loading:!1,mamagerRef:t.data}):e.setState({loading:!1})}))}}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isModalVisible,n=t.loading,s=t.countdown,o=t.mamagerRef,r=t.postMessagedata,i=t.step,c=r.checkData;console.log(r);var d={labelCol:{span:5},wrapperCol:{span:12}},j={rules:[{required:!0,message:"Please enter required fields"}]};return Object(W.jsx)("div",{className:"verificationSMS",children:Object(W.jsxs)(l.a,{spinning:n,children:[2===i?Object(W.jsxs)("span",{children:[Object(W.jsx)(O.a,Object(f.a)(Object(f.a)({},{labelCol:{span:10},wrapperCol:{span:14}}),{},{name:"sms",initialValues:{},ref:this.formRef,colon:!1,requiredMark:!1,children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(g.a,{span:24,children:Object(W.jsxs)("div",{className:"title",children:[Object(W.jsx)("p",{children:"There is matches with"}),Object(W.jsxs)("p",{children:["PEP Count : ",c?c.pepCount:""]}),Object(W.jsxs)("p",{children:["SIP Count : ",c?c.sipCount:""]}),Object(W.jsxs)("p",{children:["for this customer, Please proceed to fill up the"," ",c&&c.ecdd?"ECDD":"CDD",!0===(null===c||void 0===c?void 0:c.cashOver20k)?" and CTR":""," form."]}),Object(W.jsxs)(b.a,{children:[Object(W.jsxs)(g.a,{span:12,children:[" ",Object(W.jsxs)("p",{children:["Member:",c?c.name:""," "]})," "]}),Object(W.jsxs)(g.a,{span:12,children:[" ",Object(W.jsxs)("p",{children:["Nationality:",c?c.nationalityName:"",Object(W.jsx)("span",{className:"redcolorsty",children:c&&c.fatf?"(High Risk Country)":""})," "]})," "]})]}),Object(W.jsxs)(b.a,{children:[Object(W.jsxs)(g.a,{span:12,children:[" ",Object(W.jsxs)("p",{children:["DOB:",c?me()(c.birthday,"YYYY-MM-DD").format("DD/MM/YYYY"):""]})," "]}),Object(W.jsxs)(g.a,{span:12,children:[" ",Object(W.jsxs)("p",{children:[" ","Message:",c?c.message:""," "]})," "]})]})]})}),Object(W.jsx)(p.a,{}),c.roMessage?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(g.a,{offset:4,span:20,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},j),{},{label:"Area Manager",name:"areamanagerId"},d),{},{children:Object(W.jsx)(xe.a,{onChange:this.getPhone,children:o.map((function(e){return Object(W.jsx)(kt,{value:e.id,phone:e.cPhone,children:e.name})}))})}))}),Object(W.jsx)(g.a,{offset:4,span:20,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},j),{},{label:"Phone Num.",name:"phone"},d),{},{children:Object(W.jsx)(N.a,{disabled:!0})}))}),Object(W.jsx)(g.a,{offset:4,span:20,children:Object(W.jsx)(O.a.Item,Object(f.a)(Object(f.a)(Object(f.a)({},j),{},{label:"Verification Code",name:"otp"},d),{},{children:Object(W.jsx)(N.a,{suffix:Object(W.jsx)("span",{className:"sendSMS",children:s?Object(W.jsxs)("span",{className:"coutdown",children:["It can be retransmitted in\xa0",Object(W.jsx)(Dt,{title:"",value:Date.now()+61e3,onFinish:this.onFinish,format:"ss",valueStyle:{fontSize:14,color:"#ff4d4f"}}),"\xa0seconds"]}):Object(W.jsx)("span",{onClick:this.sendSMS,children:"Send verification Code"})})})}))}),Object(W.jsx)(p.a,{})]}):""]})})),Object(W.jsx)("div",{className:c.roMessage?"btn":"toBottomBtn",children:Object(W.jsxs)(u.b,{children:[Object(W.jsx)(S.a,{onClick:this.toClose,children:"Close"}),c.roMessage?Object(W.jsx)(S.a,{onClick:this.jumpNext,children:"Next"}):Object(W.jsx)(S.a,{onClick:this.toSms,children:"Next"})]})})]}):Object(W.jsxs)("span",{children:[r&&r.checkData&&r.checkData.caution?Object(W.jsxs)("span",{className:"title",children:[Object(W.jsx)("p",{children:"The member is in the caution list and the status is Caution!"}),Object(W.jsx)("br",{}),Object(W.jsxs)("p",{children:["Caution Date:",r.checkData.cautionDate]}),Object(W.jsx)("br",{}),Object(W.jsxs)("p",{children:["Remarks:",r.checkData.remarks]}),Object(W.jsx)("br",{}),!1===r.checkData.ecdd&&!1===r.checkData.cdd?Object(W.jsxs)(u.b,{className:"toBottomBtn",children:[Object(W.jsx)(S.a,{onClick:this.toClose,children:"Close"}),Object(W.jsx)(S.a,{onClick:this.toSettlement,children:"Next"})]}):Object(W.jsxs)(u.b,{className:"toBottomBtn",children:[Object(W.jsx)(S.a,{onClick:this.toClose,children:"Close"}),Object(W.jsx)(S.a,{onClick:this.toSms,children:"Next"})]})]}):"",r&&r.checkData&&r.checkData.block?Object(W.jsxs)("span",{className:"title",children:[Object(W.jsx)("p",{children:"The member is in the caution list and the status is Block!"}),Object(W.jsx)("br",{}),Object(W.jsxs)("p",{children:["Caution Date:",r.checkData.cautionDate]}),Object(W.jsx)("br",{}),Object(W.jsxs)("p",{children:["Remarks:",r.checkData.remarks]}),Object(W.jsx)("br",{}),Object(W.jsx)(S.a,{className:"toBottomBtn",onClick:this.toClose,children:"Close"})]}):""]}),Object(W.jsxs)(m.a,{title:"Message",visible:a,footer:!1,onCancel:function(){e.setState({isModalVisible:!1})},destroyOnClose:!0,children:[Object(W.jsx)("p",{children:"Save CDD for later, proceed to settle bill?"}),Object(W.jsx)(p.a,{}),Object(W.jsx)("div",{className:"btnGroupAml",children:Object(W.jsxs)(u.b,{children:[Object(W.jsx)(S.a,{onClick:this.toTemporary,children:"Settle"}),Object(W.jsx)(S.a,{type:"primary",onClick:this.toJumpAml,children:"Complete CDD"})]})})]})]})})}}]),a}(s.a.Component),wt=[{name:"AntiMoney",path:"/antiMoney",component:tt,exact:!1},{name:"VerificationSMS",path:"/serificationSMS",component:Nt,exact:!1},{name:"AmlRecord",path:"/amlRecord",component:jt,exact:!1},{name:"AmlDetail",path:"/amlDetail",component:st,exact:!1},{name:"cautionRecord",path:"/cautionRecord",component:vt,exact:!1},{name:"404 Page",path:"*",component:It}],Mt=function(){return Object(W.jsx)(c.c,{children:wt.map((function(e,t){return Object(W.jsx)(c.a,{exact:e.exact,path:e.path,component:e.component},t)}))})},Tt=function(e){Object(D.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).state={hasError:!1,errorInfo:null},n}return Object(C.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:e,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?Object(W.jsxs)("div",{children:[Object(W.jsx)("h2",{children:"Something went wrong."}),Object(W.jsx)("details",{style:{whiteSpace:"pre-wrap"}})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(s.a.Component);a(447),a(448),a(449);r.a.render(Object(W.jsx)(i.a,{children:Object(W.jsx)(Tt,{children:Object(W.jsx)(Mt,{})})}),document.getElementById("root"))}},[[450,1,2]]]);
//# sourceMappingURL=main.62e71225.chunk.js.map